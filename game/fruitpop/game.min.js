function ClassAbout(){this.GetImg=new createjs.Container;var a=new createjs.Shape;a.graphics.beginLinearGradientFill(["#00e3ff","#0289d3"],[0,1],0,0,0,480*devise_size).drawRect(0,0,320*devise_size,480*devise_size);this.GetImg.addChild(a);this.img=ss_data.clone();this.img.gotoAndStop("about");a=new createjs.Shape;a.graphics.beginFill("#000").drawRect(0,60*devise_size,220*devise_size,215*devise_size);this.img.hitArea=a;this.img.on("mousedown",function(){window.open(config.url)});this.img.x=50*devise_size;
this.img.y=70*devise_size;this.GetImg.addChild(this.img);this.btn=new createjs.Container;this.btn.x=5*devise_size;this.btn.y=370*devise_size;this.btn.on("mousedown",function(){ToMenu("about","options")});a=ss_data.clone();a.gotoAndStop("btn");this.btn.addChild(a);a=ss_data.clone();a.gotoAndStop("icon_left");this.btn.addChild(a);this.GetImg.addChild(this.btn);this.Hide()}ClassAbout.prototype.Upd=function(){};ClassAbout.prototype.Show=function(){this.GetImg.visible=!0};
ClassAbout.prototype.Hide=function(){this.GetImg.visible=!1};function ClassBonus(){this.GetImg=new createjs.Container;this.bonus=0;this.pause=ss_data.clone();this.pause.gotoAndStop("btn_pause");this.pause.x=10*devise_size;this.pause.y=5*devise_size;this.pause.on("mousedown",function(){window_modal.pause.Show()});this.GetImg.addChild(this.pause);this.btn=[new createjs.Container,new createjs.Container,new createjs.Container,new createjs.Container,new createjs.Container];this.btn_img=[ss_data.clone(),ss_data.clone(),ss_data.clone(),ss_data.clone(),ss_data.clone()];
a=ss_data.clone();a.gotoAndPlay("btn_bonus");this.btn[0].addChild(a);this.btn[0].x=60*devise_size;this.btn_img[0].gotoAndPlay("watering_off");this.btn_img[0].regX=7*devise_size;this.btn_img[0].regY=7*devise_size;this.btn[0].on("mousedown",function(){5==window_global.location.bonus.bonus?(window_global.location.bonus.btn_img[0].gotoAndPlay("watering_off"),window_global.location.bonus.bonus=0):(window_global.location.bonus.btn_img[0].gotoAndPlay("watering_on"),window_global.location.bonus.btn_img[1].gotoAndPlay("bomb_off"),
window_global.location.bonus.btn_img[2].gotoAndPlay("shovel_off"),window_global.location.bonus.btn_img[3].gotoAndPlay("star_off"),window_global.location.bonus.btn_img[4].gotoAndPlay("key_off"),window_global.location.bonus.bonus=5)});this.btn[0].addChild(this.btn_img[0]);this.GetImg.addChild(this.btn[0]);var a=ss_data.clone();a.gotoAndPlay("btn_bonus");this.btn[1].addChild(a);this.btn[1].x=116*devise_size;this.btn_img[1].gotoAndPlay("bomb_off");this.btn_img[1].regX=7*devise_size;this.btn_img[1].regY=
7*devise_size;this.btn[1].on("mousedown",function(){1==window_global.location.bonus.bonus?(window_global.location.bonus.btn_img[1].gotoAndPlay("bomb_off"),window_global.location.bonus.bonus=0):(window_global.location.bonus.btn_img[0].gotoAndPlay("watering_off"),window_global.location.bonus.btn_img[1].gotoAndPlay("bomb_on"),window_global.location.bonus.btn_img[2].gotoAndPlay("shovel_off"),window_global.location.bonus.btn_img[3].gotoAndPlay("star_off"),window_global.location.bonus.btn_img[4].gotoAndPlay("key_off"),
window_global.location.bonus.bonus=1)});this.btn[1].addChild(this.btn_img[1]);this.GetImg.addChild(this.btn[1]);a=ss_data.clone();a.gotoAndPlay("btn_bonus");this.btn[2].addChild(a);this.btn[2].x=172*devise_size;this.btn_img[2].gotoAndPlay("shovel_off");this.btn_img[2].regX=7*devise_size;this.btn_img[2].regY=7*devise_size;this.btn[2].on("mousedown",function(){3==window_global.location.bonus.bonus?(window_global.location.bonus.btn_img[2].gotoAndPlay("shovel_off"),window_global.location.bonus.bonus=
0):(window_global.location.bonus.btn_img[0].gotoAndPlay("watering_off"),window_global.location.bonus.btn_img[1].gotoAndPlay("bomb_off"),window_global.location.bonus.btn_img[2].gotoAndPlay("shovel_on"),window_global.location.bonus.btn_img[3].gotoAndPlay("star_off"),window_global.location.bonus.btn_img[4].gotoAndPlay("key_off"),window_global.location.bonus.bonus=3)});this.btn[2].addChild(this.btn_img[2]);this.GetImg.addChild(this.btn[2]);a=ss_data.clone();a.gotoAndPlay("btn_bonus");this.btn[3].addChild(a);
this.btn[3].x=227*devise_size;this.btn_img[3].gotoAndPlay("star_off");this.btn_img[3].regX=7*devise_size;this.btn_img[3].regY=7*devise_size;this.btn[3].on("mousedown",function(){4==window_global.location.bonus.bonus?(window_global.location.bonus.btn_img[3].gotoAndPlay("star_off"),window_global.location.bonus.bonus=0):(window_global.location.bonus.btn_img[0].gotoAndPlay("watering_off"),window_global.location.bonus.btn_img[1].gotoAndPlay("bomb_off"),window_global.location.bonus.btn_img[2].gotoAndPlay("shovel_off"),
window_global.location.bonus.btn_img[3].gotoAndPlay("star_on"),window_global.location.bonus.btn_img[4].gotoAndPlay("key_off"),window_global.location.bonus.bonus=4)});this.btn[3].addChild(this.btn_img[3]);this.GetImg.addChild(this.btn[3]);a=ss_data.clone();a.gotoAndPlay("btn_bonus");this.btn[4].addChild(a);this.btn[4].x=282*devise_size;this.btn_img[4].gotoAndPlay("key_off");this.btn_img[4].regX=7*devise_size;this.btn_img[4].regY=7*devise_size;this.btn[4].on("mousedown",function(){2==window_global.location.bonus.bonus?
(window_global.location.bonus.btn_img[4].gotoAndPlay("key_off"),window_global.location.bonus.bonus=0):(window_global.location.bonus.btn_img[0].gotoAndPlay("watering_off"),window_global.location.bonus.btn_img[1].gotoAndPlay("bomb_off"),window_global.location.bonus.btn_img[2].gotoAndPlay("shovel_off"),window_global.location.bonus.btn_img[3].gotoAndPlay("star_off"),window_global.location.bonus.btn_img[4].gotoAndPlay("key_on"),window_global.location.bonus.bonus=2)});this.btn[4].addChild(this.btn_img[4]);
this.GetImg.addChild(this.btn[4]);this.bonus_c=[new ClassText(3,"s"),new ClassText(3,"s"),new ClassText(3,"s"),new ClassText(3,"s"),new ClassText(3,"s")];for(a=0;5>a;a++)this.bonus_c[a].GetImg.y=19*devise_size,this.bonus_c[a].GetImg.x=88*devise_size+(55.5*devise_size*a<<0),this.bonus_c[a].GetImg.scaleX=this.bonus_c[a].GetImg.scaleY=0.8,this.GetImg.addChild(this.bonus_c[a].GetImg)}
ClassBonus.prototype.SetDef=function(){this.bonus=0;this.btn_img[0].gotoAndPlay("watering_off");this.btn_img[1].gotoAndPlay("bomb_off");this.btn_img[2].gotoAndPlay("shovel_off");this.btn_img[3].gotoAndPlay("star_off");this.btn_img[4].gotoAndPlay("key_off");this.Create()};
ClassBonus.prototype.Create=function(){for(var a=this.bonus=0;5>a;a++)this.bonus_c[a].SetLeft(save.bonus[a].toString()),0===save.bonus[a]?(this.btn[a].mouseEnabled=!1,this.btn_img[a].alpha=0.5):(this.btn[a].mouseEnabled=!0,this.btn_img[a].alpha=1)};function ClassCombo(){this.GetImg=ss_data.clone();this.GetImg.visible=!1;this.time=0}ClassCombo.prototype.Create=function(){this.GetImg.visible=!1;this.time=0};ClassCombo.prototype.Go=function(a){this.GetImg.gotoAndPlay(a);this.GetImg.visible=!0;this.time=30};ClassCombo.prototype.Upd=function(){0!=this.time&&(this.time--,0==this.time&&(this.GetImg.visible=!1))};function ClassGameOver(){this.GetImg=new createjs.Container;this.GetImg.x=50*devise_size;this.GetImg.y=135*devise_size;this.up=0;this.end=-1;var a=new createjs.Shape;a.graphics.beginFill("rgba(0,0,0,0.6)").drawRect(0,0,640,960);a.x=-50*devise_size;a.y=-135*devise_size;this.GetImg.addChild(a);this.GetImgA=new createjs.Container;this.GetImg.addChild(this.GetImgA);a=ss_data.clone();a.gotoAndStop("fruit_gameover");a.x=-10*devise_size;a.y=-45*devise_size;this.GetImgA.addChild(a);a=ss_data.clone();a.gotoAndStop("wind_pause");
this.GetImgA.addChild(a);a=ss_data.clone();a.gotoAndStop("white_text_gameover");a.x=27*devise_size;a.y=47*devise_size;this.GetImgA.addChild(a);a=new createjs.Container;a.on("mousedown",function(){window_modal.game_over.StartHide();window_modal.game_over.end=0});a.x=25*devise_size;a.y=170*devise_size;var b=ss_data.clone();b.gotoAndStop("btn");a.addChild(b);b=ss_data.clone();b.gotoAndStop("icon_menu");a.addChild(b);this.GetImgA.addChild(a);a=new createjs.Container;a.on("mousedown",function(){window_modal.game_over.StartHide();
window_modal.game_over.end=1});a.x=145*devise_size;a.y=170*devise_size;b=ss_data.clone();b.gotoAndStop("btn");a.addChild(b);b=ss_data.clone();b.gotoAndStop("icon_reset");a.addChild(b);this.GetImgA.addChild(a);this.Hide()}ClassGameOver.prototype.Upd=function(){this.GetImgA.y!==this.up&&(this.GetImgA.y+=15*devise_size,this.GetImgA.y===345*devise_size&&this.Hide())};
ClassGameOver.prototype.Show=function(){audio_supported&&s_gameover.play();this.GetImgA.y=-300*devise_size;this.up=0;this.GetImg.visible=!0;window_g_s.mouseEnabled=!1};ClassGameOver.prototype.Hide=function(){0===this.end&&ToMenu("location","map");1===this.end&&window_global.location.Create(window_global.location.num);this.GetImg.visible=!1;window_g_s.mouseEnabled=!0};ClassGameOver.prototype.StartHide=function(){this.up=345*devise_size};var pos_speed,bonus_num="bomb_off shovel_off key_off watering_off star_off bomb_off".split(" "),convert_bonus=[1,2,4,0,3,1],b0,b1;
function ClassGameWin(){pos_speed=[{x:82*devise_size,y:276.5*devise_size},{x:138*devise_size,y:277.5*devise_size},{x:248.5*devise_size,y:276.5*devise_size},{x:27*devise_size,y:279*devise_size},{x:193*devise_size,y:277*devise_size},{x:82*devise_size,y:276.5*devise_size}];this.GetImg=new createjs.Container;this.GetImg.x=50*devise_size;this.GetImg.y=135*devise_size;this.up=0;this.end=-1;this.b=this.a=0;var a=new createjs.Shape;a.graphics.beginFill("rgba(0,0,0,0.6)").drawRect(0,0,320*devise_size,480*
devise_size);a.x=-50*devise_size;a.y=-135*devise_size;this.GetImg.addChild(a);this.GetImgA=new createjs.Container;this.GetImg.addChild(this.GetImgA);b0=ss_data.clone();b0.regX=38*devise_size;b0.regY=38*devise_size;b0.gotoAndStop("lock");b0.visible=!1;b0.on("animationend",function(a){a.target.stop();a.target.visible=!1});this.GetImgA.addChild(b0);b1=ss_data.clone();b1.regX=38*devise_size;b1.regY=38*devise_size;b1.gotoAndStop("lock");b1.visible=!1;b1.on("animationend",function(a){a.target.stop();a.target.visible=
!1});this.GetImgA.addChild(b1);this.stars_n=this.time_bonus=this.score=this.score_fin=this.score_plus=0;a=ss_data.clone();a.gotoAndStop("wind_pause");this.GetImgA.addChild(a);a=ss_data.clone();a.gotoAndStop("line_stars");a.x=25*devise_size;a.y=-17*devise_size;this.GetImgA.addChild(a);this.light=ss_data.clone();this.light.gotoAndStop("light");this.light.x=-40*devise_size;this.light.y=55*devise_size;this.GetImgA.addChild(this.light);this.text_levelcomplete=ss_data.clone();this.text_levelcomplete.gotoAndStop("white_text_levelcomplete");
this.text_levelcomplete.x=44*devise_size;this.text_levelcomplete.y=32*devise_size;this.GetImgA.addChild(this.text_levelcomplete);this.text_gamecomplete=ss_data.clone();this.text_gamecomplete.gotoAndStop("white_text_gamecomplete");this.text_gamecomplete.x=87*devise_size;this.text_gamecomplete.y=32*devise_size;this.GetImgA.addChild(this.text_gamecomplete);this.text_level=new ClassText(2,"n");this.text_level.GetImg.x=151*devise_size;this.text_level.GetImg.y=30*devise_size;this.GetImgA.addChild(this.text_level.GetImg);
this.text_score=new ClassText(6,"y");this.text_score.GetImg.x=110*devise_size;this.text_score.GetImg.y=90*devise_size;this.GetImgA.addChild(this.text_score.GetImg);this.stars=ss_data.clone();this.stars.gotoAndStop("starsa_0");this.stars.x=24*devise_size;this.stars.y=-16*devise_size;this.GetImgA.addChild(this.stars);this.stars_e1=ss_data.clone();this.stars_e1.x=-13*devise_size;this.stars_e1.y=-62*devise_size;this.stars_e1.gotoAndStop("star");this.stars_e1.on("animationend",function(a){window_modal.game_win.stars.gotoAndStop("starsa_1");
a.target.stop();a.target.visible=!1;1<window_modal.game_win.stars_n?(window_modal.game_win.stars_e2.gotoAndPlay("star"),window_modal.game_win.stars_e2.visible=!0):window_modal.game_win.time_bonus=30});this.GetImgA.addChild(this.stars_e1);this.stars_e2=ss_data.clone();this.stars_e2.x=33*devise_size;this.stars_e2.y=-70*devise_size;this.stars_e2.on("animationend",function(a){window_modal.game_win.stars.gotoAndStop("starsa_2");a.target.stop();a.target.visible=!1;2<window_modal.game_win.stars_n?(window_modal.game_win.stars_e3.gotoAndPlay("star"),
window_modal.game_win.stars_e3.visible=!0):window_modal.game_win.time_bonus=30});this.GetImgA.addChild(this.stars_e2);this.stars_e3=ss_data.clone();this.stars_e3.x=81*devise_size;this.stars_e3.y=-59*devise_size;this.stars_e3.on("animationend",function(a){window_modal.game_win.stars.gotoAndStop("starsa_3");a.target.stop();a.target.visible=!1;window_modal.game_win.time_bonus=30});this.GetImgA.addChild(this.stars_e3);a=new createjs.Container;a.on("mousedown",function(){window_modal.game_win.StartHide();
window_modal.game_win.end=0});a.x=25*devise_size;a.y=170*devise_size;var b=ss_data.clone();b.gotoAndStop("btn");a.addChild(b);b=ss_data.clone();b.gotoAndStop("icon_menu");a.addChild(b);this.GetImgA.addChild(a);a=new createjs.Container;a.on("mousedown",function(){window_modal.game_win.StartHide();window_modal.game_win.end=1});a.x=85*devise_size;a.y=170*devise_size;b=ss_data.clone();b.gotoAndStop("btn");a.addChild(b);b=ss_data.clone();b.gotoAndStop("icon_reset");a.addChild(b);this.GetImgA.addChild(a);
a=new createjs.Container;a.on("mousedown",function(){window_modal.game_win.StartHide();window_modal.game_win.end=2});a.x=145*devise_size;a.y=170*devise_size;b=ss_data.clone();b.gotoAndStop("btn");a.addChild(b);b=ss_data.clone();b.gotoAndStop("icon_right");a.addChild(b);this.GetImgA.addChild(a);this.bonus1=ss_data.clone();this.bonus1.x=70*devise_size;this.bonus1.y=145*devise_size;this.bonus1.regX=23*devise_size;this.bonus1.regY=23*devise_size;this.bonus1.speedX=0;this.bonus1.speedY=0;this.GetImgA.addChild(this.bonus1);
this.bonus2=ss_data.clone();this.bonus2.x=150*devise_size;this.bonus2.y=145*devise_size;this.bonus2.regX=23*devise_size;this.bonus2.regY=23*devise_size;this.bonus2.speedX=0;this.bonus2.speedY=0;this.GetImgA.addChild(this.bonus2);this.Hide()}
ClassGameWin.prototype.Upd=function(){this.GetImgA.y!==this.up&&(this.GetImgA.y+=15*devise_size,this.GetImgA.y===345*devise_size&&this.Hide(),0===this.GetImgA.y&&this.stars_e1.visible&&this.stars_e1.gotoAndPlay("star"));if(0===this.GetImgA.y&&this.score<this.score_fin){this.score+=this.score_plus;this.score>=this.score_fin&&(this.score=this.score_fin);var a=this.score.toString();3<a.length?this.text_score.SetCenter(a.substring(0,a.length-3)+","+a.substring(a.length-3,a.length)):this.text_score.SetCenter(this.score.toString())}0<
this.time_bonus&&this.time_bonus--;0===this.time_bonus&&0===this.GetImgA.y&&(this.bonus1.visible&&(this.bonus1.x+=this.bonus1.speedX,this.bonus1.y+=this.bonus1.speedY,this.bonus1.nedY<=this.bonus1.y&&(b0.visible=!0,b0.x=this.bonus1.x,b0.y=this.bonus1.y,b0.gotoAndPlay("lock"),save.AddBonus(convert_bonus[this.a]),window_global.location.bonus.Create(),this.bonus1.visible=!1)),!this.bonus1.visible&&this.bonus2.visible&&(this.bonus2.x+=this.bonus2.speedX,this.bonus2.y+=this.bonus2.speedY,this.bonus2.nedY<=
this.bonus2.y&&(b1.visible=!0,b1.x=this.bonus2.x,b1.y=this.bonus2.y,b1.gotoAndPlay("lock"),save.AddBonus(convert_bonus[this.b]),window_global.location.bonus.Create(),this.bonus2.visible=!1)))};
ClassGameWin.prototype.Show=function(a,b,c,d){audio_supported&&s_levelcomplete.play();this.stars_n=a;this.GetImgA.y=-300*devise_size;this.text_gamecomplete.visible=window_global.location.num===config.levels.length-1;this.text_levelcomplete.visible=!this.text_gamecomplete.visible;this.text_level.GetImg.visible=!this.text_gamecomplete.visible;-1==c?(this.text_score.GetImg.y=105*devise_size,this.light.visible=!1,this.bonus1.visible=!1,this.bonus2.visible=!1):(this.text_score.GetImg.y=90*devise_size,
this.a=c,this.b=d,this.light.visible=!0,-1==d?(this.bonus1.visible=!0,this.bonus2.visible=!1,this.bonus1.gotoAndStop(bonus_num[c]),this.bonus1.x=110*devise_size,this.bonus1.y=154*devise_size,this.bonus1.speedX=(pos_speed[c].x-this.bonus1.x)/30,this.bonus1.speedY=(pos_speed[c].y-this.bonus1.y)/30,this.bonus1.nedY=pos_speed[c].y):(this.bonus1.visible=!0,this.bonus2.visible=!0,this.bonus1.gotoAndStop(bonus_num[c]),this.bonus2.gotoAndStop(bonus_num[d]),this.bonus1.x=90*devise_size,this.bonus1.y=154*devise_size,
this.bonus2.x=130*devise_size,this.bonus2.y=154*devise_size,this.bonus1.speedX=(pos_speed[c].x-this.bonus1.x)/30,this.bonus1.speedY=(pos_speed[c].y-this.bonus1.y)/30,this.bonus1.nedY=pos_speed[c].y,this.bonus2.speedX=(pos_speed[d].x-this.bonus2.x)/30,this.bonus2.speedY=(pos_speed[d].y-this.bonus2.y)/30,this.bonus2.nedY=pos_speed[d].y));this.text_level.SetCenter((window_global.location.num+1).toString());this.score_plus=b/30<<0;this.score_fin=b;this.score=0;this.text_score.SetCenter("0");4>a?(this.stars_e1.visible=
!0,this.stars_e2.visible=!1,this.stars_e3.visible=!1,this.stars.gotoAndStop("starsa_0"),this.time_bonus=5E3):(this.stars_e1.visible=!1,this.stars_e2.visible=!1,this.stars_e3.visible=!1,this.stars.gotoAndStop("starsa_3"),this.time_bonus=30);this.GetImgA.y=-300*devise_size;this.up=0;this.GetImg.visible=!0;window_g_s.mouseEnabled=!1};
ClassGameWin.prototype.Hide=function(){0===this.end&&ToMenu("location","map");1===this.end&&window_global.location.Create(window_global.location.num);2===this.end&&(window_global.location.num===config.levels.length-1?ToMenu("location","map"):window_global.location.Create(window_global.location.num+1));this.bonus1.nedY>this.bonus1.y&&(save.AddBonus(convert_bonus[this.a]),window_global.location.bonus.Create());this.bonus2.nedY>this.bonus2.y&&(save.AddBonus(convert_bonus[this.b]),window_global.location.bonus.Create());
this.GetImg.visible=!1;window_g_s.mouseEnabled=!0};ClassGameWin.prototype.StartHide=function(){this.up=345*devise_size};var ex_x,ex_y,k=0,old_k=0,restoy=!1,move_del=!1,create_bonus=0;
function ClassGrid(){this.grid=[[],[],[],[],[],[],[],[]];this.img_bg=[[],[],[],[],[],[],[],[]];this.img=[[],[],[],[],[],[],[],[]];this.img_glow=[[],[],[],[],[],[],[],[]];this.img_bonus=[[],[],[],[],[],[],[],[]];this.path_test=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]];this.fruit_random=0;this.fruit_random_mass="fruit_blue fruit_green fruit_orange fruit_red fruit_violet fruit_yellow".split(" ");this.path=
{n:0,c:0,x:0,y:0,b:0};this.destroy=!0;this.bonus_alpha=0;this.plane=new createjs.Container;var a=new createjs.Shape;a.graphics.beginFill("#000").drawCircle(156*devise_size,156*devise_size,221*devise_size);this.plane.hitArea=a;this.plane.grid=this;this.plane.on("mousedown",function(a){ex_x=(a.stageX-a.target.x+a.target.regX)/(39*devise_size)<<0;ex_y=(a.stageY-a.target.y+a.target.regY)/(39*devise_size)<<0;if(0<=ex_x&&8>ex_x&&0<=ex_y&&8>ex_y)switch(window_global.location.bonus.bonus){case 0:a.target.grid.StartPath(ex_x,
ex_y);break;case 1:audio_supported&&s_pop.play();a.target.grid.DestroyBomb(ex_x,ex_y);break;case 2:audio_supported&&s_pop.play();a.target.grid.UnLock(ex_x,ex_y);break;case 3:audio_supported&&s_pop.play();a.target.grid.DestroyShovel(ex_x,ex_y);break;case 4:audio_supported&&s_pop.play();a.target.grid.DestroyStar(ex_x,ex_y);break;case 5:audio_supported&&s_pop.play(),a.target.grid.DestroyWatering(ex_x,ex_y)}});this.plane.on("pressmove",function(a){if(a.target.grid.destroy){var b=a.stageX-a.target.x+a.target.regX,
e=a.stageY-a.target.y+a.target.regY,f=b/(39*devise_size)<<0,g=e/(39*devise_size)<<0;0<=f&&8>f&&0<=g&&8>g&&Math.sqrt(Math.pow(39*f*devise_size+20*devise_size-b,2)+Math.pow(39*g*devise_size+20*devise_size-e,2))<16*devise_size&&a.target.grid.SetPath(f,g)}});this.plane.on("pressup",function(a){a.target.grid.destroy&&a.target.grid.EndPath();window_global.location.grid.add_score_text.GetImg.x=a.stageX-a.target.x+a.target.regX;window_global.location.grid.add_score_text.GetImg.y=a.stageY-a.target.y+a.target.regY});
for(a=0;8>a;a++)for(var b=0;8>b;b++)this.grid[a][b]={color:0,state:0,path:0,bonus:0,scale:0,bg:0},this.img_bg[a][b]=new createjs.Sprite(new createjs.SpriteSheet(data)),this.img_bg[a][b].gotoAndStop("slot1"),this.img_bg[a][b].x=39*a*devise_size,this.img_bg[a][b].y=39*b*devise_size,this.plane.addChild(this.img_bg[a][b]),this.img_glow[a][b]=new createjs.Sprite(new createjs.SpriteSheet(data)),this.img_glow[a][b].gotoAndPlay("glow"),this.img_glow[a][b].x=39*a*devise_size,this.img_glow[a][b].regX=0,this.img_glow[a][b].regY=
39*devise_size,this.plane.addChild(this.img_glow[a][b]);this.img_path_line=new createjs.Shape;this.plane.addChild(this.img_path_line);for(a=0;8>a;a++)for(b=0;8>b;b++)this.img[a][b]=ss_data.clone(),this.img[a][b].regX=-2.5*devise_size,this.img[a][b].regY=39*devise_size,this.img[a][b].x=39*a*devise_size,this.plane.addChild(this.img[a][b]);for(a=0;8>a;a++)for(b=0;8>b;b++)this.img_bonus[a][b]=ss_data.clone(),this.img_bonus[a][b].x=39*a*devise_size,this.img_bonus[a][b].visible=!1,this.img_bonus[a][b].on("animationend",
function(a){"lock"!=a.target.currentAnimation&&(restoy=!0);a.target.visible=!1;a.target.stop()}),this.plane.addChild(this.img_bonus[a][b]);this.add_score_text=new ClassText(6,"b");this.plane.addChild(this.add_score_text.GetImg)}
ClassGrid.prototype.Create=function(a){this.add_score_text.GetImg.alpha=0;this.plane.regX=39*-config.levels[a].offset.x*devise_size;this.plane.regY=39*-config.levels[a].offset.y*devise_size;this.fruit_random_mass=config.levels[a].fruit_random_mass;this.fruit_random=config.levels[a].fruit_random_mass.length;for(var b=0;8>b;b++)for(var c=0;8>c;c++)this.img[b][c].y=39*c*devise_size+39*devise_size,this.img_glow[b][c].y=this.img[b][c].y,this.img_bonus[b][c].y=this.img[b][c].y,this.grid[b][c].path=0,0==
config.levels[a].level[c][b]?(this.grid[b][c].bg=1,this.grid[b][c].state=0,this.grid[b][c].color=0):(this.grid[b][c].bg=config.levels[a].level[c][b],this.grid[b][c].state=1,this.grid[b][c].color=Math.random()*this.fruit_random<<0),this.grid[b][c].bonus=0,this.img_bg[b][c].visible=config.levels[a].level[c][b],this.img[b][c].visible=config.levels[a].level[c][b],this.img_bonus[b][c].visible=!1;for(b=0;b<config.levels[a].lock;b++)this.CreateBonus(2);this.UpdateImg();this.UpdatePath()};
ClassGrid.prototype.Upd=function(){this.bonus_alpha+=Math.PI/18;this.add_score_text.GetImg.visible&&0!=this.add_score_text.GetImg.alpha&&(this.add_score_text.GetImg.y-=2,this.add_score_text.GetImg.alpha=Math.max(0,this.add_score_text.GetImg.alpha-0.04));restoy&&(this.Restroy(),restoy=!1,move_del&&(window_global.location.score.MoveDestroy(),move_del=!1),3===create_bonus?(this.CreateBonus(1),this.CreateBonus(1),this.CreateBonus(1),create_bonus=0):2===create_bonus?(this.CreateBonus(1),this.CreateBonus(1),
create_bonus=0):1===create_bonus&&(this.CreateBonus(1),create_bonus=0),this.UpdatePath());old_k=k;for(var a=k=0;8>a;a++)for(var b=0;8>b;b++)1===this.grid[a][b].bonus&&(this.img_glow[a][b].alpha=(Math.sin(this.bonus_alpha)+1)/2),this.img[a][b].y<39*b*devise_size+39*devise_size?(k++,this.img[a][b].y+=speed,this.img_bonus[a][b].y=this.img[a][b].y,this.img_glow[a][b].y=this.img[a][b].y):0!=this.grid[a][b].scale&&(this.grid[a][b].scale=Math.max(0,this.grid[a][b].scale-0.1570795),this.img[a][b].scaleY=
0.9+0.1*Math.abs(Math.cos(this.grid[a][b].scale)))};
ClassGrid.prototype.UpdateImg=function(){for(var a=0;8>a;a++)for(var b=0;8>b;b++)0!=this.grid[a][b].state&&(1==this.grid[a][b].bg?this.img_bg[a][b].gotoAndStop("slot1"):this.img_bg[a][b].gotoAndStop("slot2"),this.img[a][b].gotoAndPlay(this.fruit_random_mass[this.grid[a][b].color]),1===this.grid[a][b].bonus?this.img_glow[a][b].visible=!0:2===this.grid[a][b].bonus?(this.img_bonus[a][b].regX=-5*devise_size,this.img_bonus[a][b].regY=35*devise_size,this.img_bonus[a][b].visible=!0,this.img_bonus[a][b].gotoAndStop("lock_k")):
(this.img_glow[a][b].alpha=1,this.img_glow[a][b].visible=!1,this.img_bonus[a][b].visible=!1))};ClassGrid.prototype.CreateBonus=function(a){for(var b=8*Math.random()<<0,c=8*Math.random()<<0;0==this.grid[b][c].state||0!=this.grid[b][c].bonus;)b=8*Math.random()<<0,c=8*Math.random()<<0;this.grid[b][c].bonus=a};
ClassGrid.prototype.DestroyBlock=function(a,b){0!=this.grid[a][b].state&&2!=this.grid[a][b].bonus&&(1!=this.grid[a][b].bg&&(this.grid[a][b].bg--,1==this.grid[a][b].bg&&window_global.location.score.DestroyBlock()),this.grid[a][b].state=-1,this.grid[a][b].bonus=0)};
ClassGrid.prototype.DestroyBlockC=function(a,b,c){0!=this.grid[a][b].state&&2!=this.grid[a][b].bonus&&(1!=this.grid[a][b].bg&&(this.grid[a][b].bg--,1==this.grid[a][b].bg&&window_global.location.score.DestroyBlock()),this.grid[a][b].state=-1,0!=this.grid[a][b].bonus&&(this.grid[a][b].bonus=0,1==c?this.DestroyLineH(a):this.DestroyLineW(b)))};
ClassGrid.prototype.DestroyLineW=function(a){for(var b=0;8>b;b++)0!=this.grid[b][a].state&&2!=this.grid[b][a].bonus&&(this.img_bonus[b][a].visible=!0,this.img_bonus[b][a].regX=18*devise_size,this.img_bonus[b][a].regY=57*devise_size,this.img_bonus[b][a].gotoAndPlay("blast"),this.DestroyBlockC(b,a,1))};
ClassGrid.prototype.DestroyLineH=function(a){for(var b=0;8>b;b++)0!=this.grid[a][b].state&&2!=this.grid[a][b].bonus&&(this.img_bonus[a][b].visible=!0,this.img_bonus[a][b].regX=18*devise_size,this.img_bonus[a][b].regY=57*devise_size,this.img_bonus[a][b].gotoAndPlay("blast"),this.DestroyBlockC(a,b,0))};
ClassGrid.prototype.DestroyBox=function(a,b){this.DestroyBlock(a,b);0!=b&&this.DestroyBlock(a,b-1);7!=b&&this.DestroyBlock(a,b+1);0!=a&&(this.DestroyBlock(a-1,b),0!=b&&this.DestroyBlock(a-1,b-1),7!=b&&this.DestroyBlock(a-1,b+1));7!=a&&(this.DestroyBlock(a+1,b),0!=b&&this.DestroyBlock(a+1,b-1),7!=b&&this.DestroyBlock(a+1,b+1))};ClassGrid.prototype.Stop=function(){for(i=0;8>i;i++)for(j=0;8>j;j++)this.grid[x][y].state=1};
ClassGrid.prototype.GetUp=function(a,b){for(var c=b;0<c;)if(c--,1==this.grid[a][c].state)return c;return-1};
ClassGrid.prototype.Restroy=function(){for(var a=0,b=0;8>b;b++)a+=this.RestroyH(b);a=window_global.location.score.Add(a);this.add_score_text.SetCenter("+"+a.toString());0>this.add_score_text.GetImg.x-this.add_score_text.GetImg.width/2&&(this.add_score_text.GetImg.x=this.add_score_text.GetImg.width/2);this.add_score_text.GetImg.x+this.add_score_text.GetImg.width/2>320*devise_size&&(this.add_score_text.GetImg.x=320*devise_size-this.add_score_text.GetImg.width/2);this.add_score_text.GetImg.alpha=1;this.UpdateImg()};
ClassGrid.prototype.RestroyH=function(a){for(var b=8,c=0,d=0,e=7;0<=e;e--)-1==this.grid[a][e].state&&(d++,b=this.GetUp(a,e),-1==b?(this.grid[a][e].state=1,this.grid[a][e].color=Math.random()*this.fruit_random<<0,this.grid[a][e].bonus=0,c+=39*devise_size,this.img[a][e].y=-c,this.grid[a][e].scale=3.14159):(d--,this.grid[a][b].state=-1,this.grid[a][e].state=1,this.grid[a][e].color=this.grid[a][b].color,this.grid[a][e].bonus=this.grid[a][b].bonus,this.grid[a][e].scale=3.14159,this.img[a][e].y=this.img[a][b].y));
return d};ClassGrid.prototype.DestroyBomb=function(a,b){0!=this.grid[a][b].state&&2!=this.grid[a][b].bonus&&(save.DesBonus(1),window_global.location.bonus.SetDef(),this.DestroyBox(a,b),this.img_bonus[a][b].visible=!0,this.img_bonus[a][b].regX=68*devise_size,this.img_bonus[a][b].regY=107*devise_size,this.img_bonus[a][b].gotoAndPlay("bomb"))};
ClassGrid.prototype.UnLock=function(a,b){0!=this.grid[a][b].state&&2==this.grid[a][b].bonus&&(save.DesBonus(4),this.grid[a][b].bonus=0,window_global.location.bonus.SetDef(),this.img_bonus[a][b].visible=!0,this.img_bonus[a][b].regX=18*devise_size,this.img_bonus[a][b].regY=57*devise_size,this.img_bonus[a][b].gotoAndPlay("lock"))};
ClassGrid.prototype.DestroyShovel=function(a,b){0!=this.grid[a][b].state&&2!=this.grid[a][b].bonus&&(save.DesBonus(2),window_global.location.bonus.SetDef(),this.DestroyBlock(a,b),this.img_bonus[a][b].visible=!0,this.img_bonus[a][b].regX=13*devise_size,this.img_bonus[a][b].regY=52*devise_size,this.img_bonus[a][b].gotoAndPlay("small"))};
ClassGrid.prototype.DestroyStar=function(a,b){if(0!=this.grid[a][b].state){save.DesBonus(3);window_global.location.bonus.SetDef();for(var c=0;8>c;c++)for(var d=0;8>d;d++)0!=this.grid[c][d].state&&2!=this.grid[c][d].bonus&&this.grid[c][d].color==this.grid[a][b].color&&(this.DestroyBlock(c,d),this.img_bonus[c][d].visible=!0,this.img_bonus[c][d].regX=60*devise_size,this.img_bonus[c][d].regY=100*devise_size,this.img_bonus[c][d].gotoAndPlay("star"))}};
ClassGrid.prototype.DestroyWatering=function(a,b){save.DesBonus(0);window_global.location.bonus.SetDef();for(var c=0;8>c;c++)0!=this.grid[c][b].state&&2!=this.grid[c][b].bonus&&(this.DestroyBlock(c,b),this.img_bonus[c][b].visible=!0,this.img_bonus[c][b].regX=18*devise_size,this.img_bonus[c][b].regY=57*devise_size,this.img_bonus[c][b].gotoAndPlay("water"))};
ClassGrid.prototype.StartPath=function(a,b){0!=this.grid[a][b].state&&2!=this.grid[a][b].bonus&&(this.destroy=!0,this.path.c=this.grid[a][b].color,this.path.n=1,this.path.x=a,this.path.y=b,this.grid[a][b].path=1,this.UpdatePath())};
ClassGrid.prototype.SetPath=function(a,b){0==this.grid[a][b].state||2==this.grid[a][b].bonus||this.path.c!=this.grid[a][b].color||a==this.path.x&&b==this.path.y||a-1!=this.path.x&&a+1!=this.path.x&&a!=this.path.x||b-1!=this.path.y&&b+1!=this.path.y&&b!=this.path.y||(0==this.grid[a][b].path?(this.path.n++,this.path.x=a,this.path.y=b,this.grid[a][b].path=this.path.n):this.grid[a][b].path==this.path.n-1&&(this.grid[this.path.x][this.path.y].path=0,this.path.n--,this.path.x=a,this.path.y=b),this.UpdatePath())};
ClassGrid.prototype.EndPath=function(){this.destroy=!1;if(this.path.n>=config.destroy_length){for(var a=0;8>a;a++)for(var b=0;8>b;b++)0!=this.grid[a][b].path&&(1===this.grid[a][b].bonus&&(this.path.b=1),this.DestroyBlock(a,b),this.img_bonus[a][b].visible=!0,this.img_bonus[a][b].regX=18*devise_size,this.img_bonus[a][b].regY=57*devise_size,this.img_bonus[a][b].gotoAndPlay("blast"),this.img_glow[a][b].visible=!1,this.grid[a][b].path=0);this.path.b?(audio_supported&&s_special.play(),this.DestroyLineH(this.path.x),
this.path.b=0):audio_supported&&s_pop.play();this.path.n>=config.combo[3].length?(window_global.location.combo.Go(config.combo[3].img),window_global.location.combo.GetImg.x=56*devise_size,create_bonus=3):this.path.n>=config.combo[2].length?(window_global.location.combo.Go(config.combo[2].img),window_global.location.combo.GetImg.x=95.5*devise_size,create_bonus=2):this.path.n>=config.combo[1].length?(window_global.location.combo.Go(config.combo[1].img),window_global.location.combo.GetImg.x=81*devise_size,
create_bonus=2):this.path.n>=config.combo[0].length&&(window_global.location.combo.Go(config.combo[0].img),window_global.location.combo.GetImg.x=102*devise_size,create_bonus=1);move_del=!0}else for(a=0;8>a;a++)for(b=0;8>b;b++)0!=this.grid[a][b].path&&(this.img_glow[a][b].visible=!1,this.grid[a][b].path=0);this.UpdatePath()};
ClassGrid.prototype.UpdatePath=function(){this.img_path_line.graphics.clear();this.img_path_line.graphics.setStrokeStyle(20*devise_size,"box");for(var a=0;8>a;a++)for(var b=0;8>b;b++)0!=this.grid[a][b].path||1===this.grid[a][b].bonus?(this.img_glow[a][b].visible=!0,0!=this.grid[a][b].path&&(this.path_test[a][b]=1)):this.img_glow[a][b].visible=!1,this.path_test[a][b]=0;for(var c=0,d=0,e=!1,f=1;f<this.path.n+1;f++)for(a=0;8>a;a++)for(b=0;8>b;b++)this.grid[a][b].path==f&&1==f?(1==this.grid[a][b].bonus&&
(e=!0),this.img_path_line.graphics.moveTo((78*a+39)/2*devise_size,(78*b+39)/2*devise_size),c=a,d=b):this.grid[a][b].path==f&&(1==this.grid[a][b].bonus&&(e=!0),c==a||d==b?this.img_path_line.graphics.beginLinearGradientStroke(["rgba(255, 255, 255, 0)","rgba(255, 255, 255, 1)","rgba(255, 255, 255, 0)"],[0,0.5,1],(78*a+39-20*(d-b))/2*devise_size,(78*b+39-20*(c-a))/2*devise_size,(78*a+39+20*(d-b))/2*devise_size,(78*b+39+20*(c-a))/2*devise_size).moveTo((78*c+39)/2*devise_size,(78*d+39)/2*devise_size).lineTo((78*
a+39)/2*devise_size,(78*b+39)/2*devise_size).endStroke():this.img_path_line.graphics.beginLinearGradientStroke(["rgba(255, 255, 255, 0)","rgba(255, 255, 255, 1)","rgba(255, 255, 255, 0)"],[0,0.5,1],(78*a+39-14)/2*devise_size,(78*b+39+14*(c-a)*(d-b))/2*devise_size,(78*a+53)/2*devise_size,(78*b+39-14*(c-a)*(d-b))/2*devise_size).moveTo((78*c+39)/2*devise_size,(78*d+39)/2*devise_size).lineTo((78*a+39)/2*devise_size,(78*b+39)/2*devise_size).endStroke(),c=a,d=b);e&&this.UpdatePathH(c)};
ClassGrid.prototype.UpdatePathH=function(a){for(var b=0;8>b;b++)0!=this.grid[a][b].state&&0==this.path_test[a][b]&&(this.img_glow[a][b].visible=!0,this.path_test[a][b]=1,1==this.grid[a][b].bonus&&0==this.grid[a][b].path&&this.UpdatePathW(b))};ClassGrid.prototype.UpdatePathW=function(a){for(var b=0;8>b;b++)0!=this.grid[b][a].state&&0==this.path_test[b][a]&&(this.img_glow[b][a].visible=!0,this.path_test[b][a]=1,1==this.grid[b][a].bonus&&0==this.grid[b][a].path&&this.UpdatePathH(b))};function ClassJob(){this.GetImg=new createjs.Container;this.GetImg.x=50*devise_size;this.GetImg.y=189*devise_size;this.up=0;var a=new createjs.Shape;a.graphics.beginFill("rgba(0,0,0,0.6)").drawRect(0,0,640,960);a.x=-50*devise_size;a.y=-189*devise_size;this.GetImg.addChild(a);this.GetImgA=new createjs.Container;this.GetImg.addChild(this.GetImgA);a=ss_data.clone();a.gotoAndStop("wind_requirements");this.GetImgA.addChild(a);a=ss_data.clone();a.gotoAndStop("white_text_levelrequirement");a.x=29*devise_size;
this.GetImgA.addChild(a);this.text_clearblocks=ss_data.clone();this.text_clearblocks.gotoAndStop("white_text_clearblocks");this.text_clearblocks.x=24*devise_size;this.text_clearblocks.y=33*devise_size;this.GetImgA.addChild(this.text_clearblocks);this.text_points_num=new ClassText(5,"y");this.text_points_num.GetImg.x=24*devise_size;this.text_points_num.GetImg.y=32*devise_size;this.GetImgA.addChild(this.text_points_num.GetImg);this.text_points=ss_data.clone();this.text_points.gotoAndStop("white_text_points");
this.text_points.x=24*devise_size;this.text_points.y=33*devise_size;this.GetImgA.addChild(this.text_points);a=new createjs.Container;a.on("mousedown",function(){window_modal.job.up=345*devise_size});a.x=84*devise_size;a.y=80*devise_size;var b=ss_data.clone();b.gotoAndStop("btn");a.addChild(b);b=ss_data.clone();b.gotoAndStop("icon_right");a.addChild(b);this.GetImgA.addChild(a);this.Hide()}
ClassJob.prototype.Upd=function(){this.GetImgA.y!==this.up&&(this.GetImgA.y+=15*devise_size);this.GetImgA.y===345*devise_size&&this.Hide()};
ClassJob.prototype.Show=function(a,b){this.up=0;this.GetImgA.y=-300*devise_size;switch(a){case 1:this.text_clearblocks.visible=!1;this.text_points_num.SetRight(b.toString());this.text_points_num.GetImg.visible=!0;this.text_points_num.GetImg.x=(220*devise_size-(this.text_points_num.GetImg.width+71*devise_size))/2;this.text_points_num.GetImg.y=38*devise_size;this.text_points.visible=!0;this.text_points.x=this.text_points_num.GetImg.x+10*devise_size+this.text_points_num.GetImg.width;this.text_points.y=
43*devise_size;break;case 2:this.text_points.visible=!1;this.text_points_num.GetImg.visible=!1;this.text_clearblocks.visible=!0;this.text_clearblocks.y=43*devise_size;break;case 3:this.text_clearblocks.visible=!0,this.text_clearblocks.y=53*devise_size,this.text_points_num.SetRight(b.toString()),this.text_points_num.GetImg.visible=!0,this.text_points_num.GetImg.x=(220*devise_size-(this.text_points_num.GetImg.width+71*devise_size))/2,this.text_points_num.GetImg.y=23*devise_size,this.text_points.visible=
!0,this.text_points.x=this.text_points_num.GetImg.x+10*devise_size+this.text_points_num.GetImg.width,this.text_points.y=28*devise_size}this.GetImg.visible=!0;window_g_s.mouseEnabled=!1};ClassJob.prototype.Hide=function(){this.GetImg.visible=!1;window_g_s.mouseEnabled=!0};function ClassLevelClear(){this.GetImg=new createjs.Container;this.GetImg.x=50*devise_size;this.GetImg.y=189*devise_size;var a=new createjs.Shape;a.graphics.beginFill("rgba(0,0,0,0.6)").drawRect(0,0,640,960);a.x=-50*devise_size;a.y=-189*devise_size;this.GetImg.addChild(a);this.GetImgA=new createjs.Container;this.GetImg.addChild(this.GetImgA);this.up=0;a=ss_data.clone();a.gotoAndStop("wind_requirements");this.GetImgA.addChild(a);this.text_clearblocks=ss_data.clone();this.text_clearblocks.gotoAndStop("white_text_levelclear");
this.text_clearblocks.x=46*devise_size;this.text_clearblocks.y=40*devise_size;this.GetImgA.addChild(this.text_clearblocks);this.GetImg.visible=!1;window_g_s.mouseEnabled=!0}ClassLevelClear.prototype.Upd=function(){this.GetImgA.y!==this.up&&(this.GetImgA.y+=15*devise_size,this.GetImgA.y===345*devise_size&&this.Hide());this.time--;0===this.time&&(this.up=345*devise_size)};
ClassLevelClear.prototype.Show=function(){setTimeout(function(){window_modal.clear.GetImg.visible||(window_g_s.mouseEnabled=!1,window_modal.clear.time=60,window_modal.clear.up=0,window_modal.clear.GetImgA.y=-300*devise_size,window_modal.clear.GetImg.visible=!0)},1500)};ClassLevelClear.prototype.Hide=function(){this.GetImg.visible=!1;window_g_s.mouseEnabled=!0;window_global.location.score.GoWin(0)};var load;function StartLoad(){load=new ClassLoad}function PreLoadComplete(){var a=new createjs.Bitmap(load.queue.getResult("loading"));load.GetImg.addChild(a);load.star=new createjs.Bitmap(load.queue.getResult("load_star"));load.star.x=0;load.star.y=340*devise_size;load.GetImg.addChild(load.star);load.Load()}function LoadComplete(){1===devise_size?CreateData1():CreateData2();StartGame()}
function ClassLoad(){this.GetImg=new createjs.Container;this.queue=new createjs.LoadQueue(!0);this.queue.addEventListener("complete",PreLoadComplete,!1);this.queue.loadManifest([{id:"loading",src:"assets/loading"+devise_size+".jpg"},{id:"load_star",src:"assets/load_star"+devise_size+".png"}])}
ClassLoad.prototype.Load=function(){this.queue.removeAllEventListeners("complete");this.queue.addEventListener("progress",function(){load.Upd()},!1);this.queue.addEventListener("complete",LoadComplete,!1);this.queue.loadManifest([{id:"fnt",src:"assets/fnt"+devise_size+".png"},{id:"bg",src:"assets/bg"+devise_size+".jpg"},{id:"main",src:"assets/main"+devise_size+".jpg"},{id:"tut",src:"assets/tut"+devise_size+".png"},{id:"gr",src:"assets/gr"+devise_size+".png"}])};
ClassLoad.prototype.Upd=function(){this.star.x=(52+(180*this.queue.progress<<0))*devise_size};
ClassLoad.prototype.LoadAudio=function(){lock_audio&&(lock_audio=!1,createjs.Sound.registerPlugins([createjs.WebAudioPlugin]),audio_supported=createjs.WebAudioPlugin.isSupported())&&(createjs.Sound.alternateExtensions=["ogg"],this.queue.installPlugin(createjs.Sound),this.queue.removeAllEventListeners(),this.queue.addEventListener("complete",MusicPlay,!1),this.queue.loadManifest([{id:"gameover",src:"assets/s/gameover.mp3",type:createjs.LoadQueue.SOUND},{id:"levelcomplete",src:"assets/s/levelcomplete.mp3",
type:createjs.LoadQueue.SOUND},{id:"pop",src:"assets/s/pop.mp3",type:createjs.LoadQueue.SOUND},{id:"special-effect",src:"assets/s/special-effect.mp3",type:createjs.LoadQueue.SOUND},{id:"music",src:"assets/s/music.mp3",type:createjs.LoadQueue.SOUND}]))};
function MusicPlay(){s_gameover=createjs.Sound.createInstance("gameover");s_levelcomplete=createjs.Sound.createInstance("levelcomplete");s_pop=createjs.Sound.createInstance("pop");s_special=createjs.Sound.createInstance("special-effect");music=createjs.Sound.createInstance("music");music.play({loop:-1});music.setMute(!0)}var s_gameover,s_levelcomplete,s_pop,s_special,music,lock_audio=!0,audio_supported;function ClassLocation(){this.GetImg=new createjs.Container;this.num=0;var a=new createjs.Bitmap(load.queue.getResult("bg"));this.GetImg.addChild(a);this.grid=new ClassGrid;this.grid.plane.x=4*devise_size;this.grid.plane.y=79*devise_size;this.GetImg.addChild(this.grid.plane);this.bonus=new ClassBonus;this.bonus.GetImg.y=398*devise_size;this.GetImg.addChild(this.bonus.GetImg);a=ss_data.clone();a.gotoAndStop("bg_top");this.GetImg.addChild(a);this.score=new ClassScore;this.score.GetImg.x=4*devise_size;
this.score.GetImg.y=54*devise_size;this.GetImg.addChild(this.score.GetImg);this.combo=new ClassCombo;this.combo.GetImg.y=220*devise_size;this.GetImg.addChild(this.combo.GetImg);this.Hide()}
ClassLocation.prototype.Create=function(a){this.num=a;this.combo.Create();this.bonus.Create();this.grid.Create(a);this.score.Create(a);0!=config.levels[a].score&&0!=config.levels[a].block?window_modal.job.Show(3,config.levels[a].score):0!=config.levels[a].block?window_modal.job.Show(2,0):window_modal.job.Show(1,config.levels[a].score)};ClassLocation.prototype.Upd=function(){this.combo.Upd();this.grid.Upd();this.score.Upd()};ClassLocation.prototype.Show=function(){this.GetImg.visible=!0};
ClassLocation.prototype.Hide=function(){this.GetImg.visible=!1};function ClassMainMenu(){this.GetImg=new createjs.Container;this.play=new createjs.Shape;this.play.graphics.beginFill("#000").drawCircle(160*devise_size,305*devise_size,68*devise_size);this.play.on("mousedown",function(){load.LoadAudio();ToMenu("main_menu","map")});this.GetImg.addChild(this.play);this.mg=new createjs.Shape;this.mg.graphics.beginFill("#000").drawCircle(37*devise_size,339*devise_size,25*devise_size);this.mg.on("mousedown",function(){window.open(config.url)});this.GetImg.addChild(this.mg);
this.op=new createjs.Shape;this.op.graphics.beginFill("#000").drawCircle(276*devise_size,265*devise_size,25*devise_size);this.op.on("mousedown",function(){load.LoadAudio();ToMenu("main_menu","options")});this.GetImg.addChild(this.op);var a=new createjs.Bitmap(load.queue.getResult("main"));this.GetImg.addChild(a)}ClassMainMenu.prototype.Upd=function(){};ClassMainMenu.prototype.Show=function(){this.GetImg.visible=!0};ClassMainMenu.prototype.Hide=function(){this.GetImg.visible=!1};var home_cout,fb_cout;
function ClassMap(){home_cout=config.add_home_post-1;fb_cout=0;this.GetImg=new createjs.Container;this.position_x=0;var a=new createjs.Shape;a.graphics.beginLinearGradientFill(["#00e3ff","#0289d3"],[0,1],0,0,0,480*devise_size).drawRect(0,0,320*devise_size,480*devise_size);this.GetImg.addChild(a);this.marker_0=ss_data.clone();this.marker_0.gotoAndStop("marker_on");this.marker_0.x=108*devise_size;this.marker_0.y=59*devise_size;this.GetImg.addChild(this.marker_0);this.marker_1=ss_data.clone();this.marker_1.gotoAndStop("marker_on");
this.marker_1.x=146*devise_size;this.marker_1.y=59*devise_size;this.GetImg.addChild(this.marker_1);this.marker_2=ss_data.clone();this.marker_2.gotoAndStop("marker_on");this.marker_2.x=184*devise_size;this.marker_2.y=59*devise_size;this.GetImg.addChild(this.marker_2);this.m_point=new createjs.Container;this.mouse_old={x:0};a=new createjs.Shape;a.graphics.beginFill("rgba(255,255,255,0.01)").drawCircle(160*devise_size,220*devise_size,190*devise_size);a.on("mousedown",function(a){window_global.map.mouse_old.x=
a.stageX});a.on("pressup",function(a){Math.abs(window_global.map.mouse_old.x-a.stageX)>25*devise_size&&window_global.map.LR(window_global.map.mouse_old.x-a.stageX)});this.m_point.x=0;this.point_bg=[];this.point_text=[];this.point=[];this.map_stars=[];for(var b=0;b<config.levels.length;b++)this.point.push(new createjs.Container),this.point_bg.push(ss_data.clone()),this.point_bg[b].x=20*devise_size+b%4*devise_size*71+320*((b/4<<0)/4<<0)*devise_size,this.point_bg[b].y=80*devise_size+71*devise_size*(b/
4<<0)-284*((b/4<<0)/4<<0)*devise_size,this.point[b].n=b,this.point[b].addChild(this.point_bg[b]),this.point_text.push(new ClassText(2,"n")),this.point_text[b].GetImg.x=this.point_bg[b].x+24*devise_size,this.point_text[b].GetImg.y=this.point_bg[b].y+14*devise_size,this.point_text[b].GetImg.n=b,this.point[b].addChild(this.point_text[b].GetImg),this.map_stars.push(ss_data.clone()),this.map_stars[b].x=this.point_bg[b].x,this.map_stars[b].y=this.point_bg[b].y,this.point[b].addChild(this.map_stars[b]),
this.point[b].on("mousedown",function(a){window_global.map.mouse_old.x=a.stageX}),this.point[b].on("pressup",function(a){Math.abs(window_global.map.mouse_old.x-a.stageX)>25*devise_size?window_global.map.LR(window_global.map.mouse_old.x-a.stageX):1==save.tut?ToMenu("map","tutorial"):(ToMenu("map","location"),window_global.location.Create(a.target.parent.n))}),this.m_point.addChild(this.point[b]);this.GetImg.addChild(a);this.GetImg.addChild(this.m_point);this.btn=new createjs.Container;this.btn.x=5*
devise_size;this.btn.y=370*devise_size;this.btn.on("mousedown",function(){ToMenu("map","main_menu")});a=ss_data.clone();a.gotoAndStop("btn");this.btn.addChild(a);a=ss_data.clone();a.gotoAndStop("icon_left");this.btn.addChild(a);this.GetImg.addChild(this.btn);this.Hide()}ClassMap.prototype.Upd=function(){this.position_x>this.m_point.x&&(this.m_point.x+=20*devise_size);this.position_x<this.m_point.x&&(this.m_point.x-=20*devise_size)};
ClassMap.prototype.LR=function(a){0>a?0!=this.position_x&&(this.position_x+=320*devise_size):this.position_x!=-640*devise_size&&(this.position_x-=320*devise_size);0==this.position_x&&(this.marker_0.alpha=1,this.marker_1.alpha=0.5,this.marker_2.alpha=0.5);this.position_x==-320*devise_size&&(this.marker_0.alpha=0.5,this.marker_1.alpha=1,this.marker_2.alpha=0.5);this.position_x==-640*devise_size&&(this.marker_0.alpha=0.5,this.marker_1.alpha=0.5,this.marker_2.alpha=1)};
ClassMap.prototype.Show=function(){home_cout===config.add_home_post-1?(addToHome.show(!0),home_cout=0):home_cout++;0==this.position_x&&(this.marker_0.alpha=1,this.marker_1.alpha=0.5,this.marker_2.alpha=0.5);this.position_x==-320*devise_size&&(this.marker_0.alpha=0.5,this.marker_1.alpha=1,this.marker_2.alpha=0.5);this.position_x==-640*devise_size&&(this.marker_0.alpha=0.5,this.marker_1.alpha=0.5,this.marker_2.alpha=1);for(var a=0;a<this.map_stars.length;a++)-1===save.lvl_star[a]?(this.point[a].mouseEnabled=
!1,this.point_text[a].style="n",this.point_text[a].SetCenter((a+1).toString()),this.point_bg[a].gotoAndStop("level_off"),this.map_stars[a].gotoAndStop("stars_0")):(this.point[a].mouseEnabled=!0,this.point_text[a].style="m",this.point_text[a].SetCenter((a+1).toString()),this.point_bg[a].gotoAndStop("level_on"),this.map_stars[a].gotoAndStop("stars_"+save.lvl_star[a]));this.GetImg.visible=!0};ClassMap.prototype.Hide=function(){this.GetImg.visible=!1};function ClassOptions(){this.GetImg=new createjs.Container;var a=new createjs.Shape;a.graphics.beginLinearGradientFill(["#00e3ff","#0289d3"],[0,1],0,0,0,480*devise_size).drawRect(0,0,320*devise_size,480*devise_size);this.GetImg.addChild(a);this.img=ss_data.clone();this.img.gotoAndStop("white_text_settings");this.img.x=74*devise_size;this.img.y=62*devise_size;this.GetImg.addChild(this.img);this.btn=new createjs.Container;this.btn.x=5*devise_size;this.btn.y=370*devise_size;this.btn.on("mousedown",function(){ToMenu("options",
"main_menu")});a=ss_data.clone();a.gotoAndStop("btn");this.btn.addChild(a);a=ss_data.clone();a.gotoAndStop("icon_left");this.btn.addChild(a);this.GetImg.addChild(this.btn);this.btn_0=new createjs.Container;this.btn_0.on("mousedown",function(){music.setMute(!music.getMute());music.getMute()?window_global.options.ico_0.alpha=0.5:window_global.options.ico_0.alpha=1});this.btn_0.x=134*devise_size;this.btn_0.y=214*devise_size;a=ss_data.clone();a.gotoAndStop("btn");this.btn_0.addChild(a);this.ico_0=ss_data.clone();
this.ico_0.gotoAndStop("icon_music");this.btn_0.addChild(this.ico_0);this.GetImg.addChild(this.btn_0);this.btn_1=new createjs.Container;this.btn_1.on("mousedown",function(){s_gameover.setMute(!s_gameover.getMute());s_pop.setMute(!s_pop.getMute());s_special.setMute(!s_special.getMute());s_levelcomplete.setMute(!s_levelcomplete.getMute());s_gameover.getMute()?window_global.options.ico_1.alpha=0.5:window_global.options.ico_1.alpha=1});this.btn_1.x=134*devise_size;this.btn_1.y=290*devise_size;a=ss_data.clone();
a.gotoAndStop("btn");this.btn_1.addChild(a);this.ico_1=ss_data.clone();this.ico_1.gotoAndStop("icon_sound");this.btn_1.addChild(this.ico_1);this.GetImg.addChild(this.btn_1);this.btn_2=new createjs.Container;this.btn_2.on("mousedown",function(){load.LoadAudio();ToMenu("options","about")});this.btn_2.x=84*devise_size;this.btn_2.y=138*devise_size;a=ss_data.clone();a.gotoAndStop("btn");this.btn_2.addChild(a);a=ss_data.clone();a.gotoAndStop("icon_i");this.btn_2.addChild(a);this.GetImg.addChild(this.btn_2);
this.btn_3=new createjs.Container;this.btn_3.x=184*devise_size;this.btn_3.y=138*devise_size;this.btn_3.on("mousedown",function(){ToMenu("options","tutorial")});a=ss_data.clone();a.gotoAndStop("btn");this.btn_3.addChild(a);a=ss_data.clone();a.gotoAndStop("icon_help");this.btn_3.addChild(a);this.GetImg.addChild(this.btn_3);this.logo=ss_data.clone();this.logo.gotoAndStop("logo");this.logo.x=146*devise_size;this.logo.y=390*devise_size;this.logo.on("mousedown",function(){window.open(config.url)});this.GetImg.addChild(this.logo);
this.Hide()}ClassOptions.prototype.Upd=function(){};ClassOptions.prototype.Show=function(){this.GetImg.visible=!0;audio_supported?(this.btn_0.visible=!0,this.btn_1.visible=!0,s_gameover.getMute()?this.ico_1.alpha=0.5:this.ico_1.alpha=1,music.getMute()?this.ico_0.alpha=0.5:this.ico_0.alpha=1):(this.btn_0.visible=!1,this.btn_1.visible=!1)};ClassOptions.prototype.Hide=function(){this.GetImg.visible=!1};function ClassPause(){this.GetImg=new createjs.Container;this.GetImg.x=50*devise_size;this.GetImg.y=135*devise_size;this.up=0;var a=new createjs.Shape;a.graphics.beginFill("rgba(0,0,0,0.6)").drawRect(0,0,320*devise_size,480*devise_size);a.x=-50*devise_size;a.y=-135*devise_size;this.GetImg.addChild(a);this.GetImgA=new createjs.Container;this.GetImg.addChild(this.GetImgA);a=ss_data.clone();a.gotoAndStop("wind_pause");this.GetImgA.addChild(a);a=ss_data.clone();a.gotoAndStop("white_text_pause");a.x=68*
devise_size;a.y=-12*devise_size;this.GetImgA.addChild(a);this.btn_0=new createjs.Container;this.btn_0.on("mousedown",function(){music.setMute(!music.getMute());music.getMute()?window_modal.pause.ico_0.alpha=0.5:window_modal.pause.ico_0.alpha=1});this.btn_0.x=45*devise_size;this.btn_0.y=80*devise_size;a=ss_data.clone();a.gotoAndStop("btn");this.btn_0.addChild(a);this.ico_0=ss_data.clone();this.ico_0.gotoAndStop("icon_music");this.btn_0.addChild(this.ico_0);this.GetImgA.addChild(this.btn_0);this.btn_1=
new createjs.Container;this.btn_1.on("mousedown",function(){s_gameover.setMute(!s_gameover.getMute());s_pop.setMute(!s_pop.getMute());s_special.setMute(!s_special.getMute());s_levelcomplete.setMute(!s_levelcomplete.getMute());s_gameover.getMute()?window_modal.pause.ico_1.alpha=0.5:window_modal.pause.ico_1.alpha=1});this.btn_1.x=125*devise_size;this.btn_1.y=80*devise_size;a=ss_data.clone();a.gotoAndStop("btn");this.btn_1.addChild(a);this.ico_1=ss_data.clone();this.ico_1.gotoAndStop("icon_sound");this.btn_1.addChild(this.ico_1);
this.GetImgA.addChild(this.btn_1);a=new createjs.Container;a.on("mousedown",function(){window_modal.pause.Hide();ToMenu("location","map")});a.x=45*devise_size;a.y=170*devise_size;var b=ss_data.clone();b.gotoAndStop("btn");a.addChild(b);b=ss_data.clone();b.gotoAndStop("icon_menu");a.addChild(b);this.GetImgA.addChild(a);a=new createjs.Container;a.on("mousedown",function(){window_modal.pause.StartHide()});a.x=125*devise_size;a.y=170*devise_size;b=ss_data.clone();b.gotoAndStop("btn");a.addChild(b);b=
ss_data.clone();b.gotoAndStop("icon_right");a.addChild(b);this.GetImgA.addChild(a);this.Hide()}ClassPause.prototype.Upd=function(){this.GetImgA.y!==this.up&&(this.GetImgA.y+=15*devise_size,this.GetImgA.y===345*devise_size&&this.Hide())};
ClassPause.prototype.Show=function(){audio_supported?(this.btn_0.visible=!0,this.btn_1.visible=!0,s_gameover.getMute()?this.ico_1.alpha=0.5:this.ico_1.alpha=1,music.getMute()?this.ico_0.alpha=0.5:this.ico_0.alpha=1):(this.btn_0.visible=!1,this.btn_1.visible=!1);this.GetImgA.y=-300*devise_size;this.up=0;this.GetImg.visible=!0;window_g_s.mouseEnabled=!1};ClassPause.prototype.Hide=function(){this.GetImg.visible=!1;window_g_s.mouseEnabled=!0};ClassPause.prototype.StartHide=function(){this.up=345*devise_size};function ClassSave(){this.lvl_move=[];this.lvl_star=[];this.bonus=[];this.tut=1}
ClassSave.prototype.FirstSave=function(){for(var a=0;a<config.levels.length;a++)this.lvl_move.push(0),this.lvl_star.push(-1);this.lvl_star[0]=0;this.bonus=[0,0,0,0,0];window.localStorage.setItem("fc_lvl_move","["+this.lvl_move.toString()+"]");window.localStorage.setItem("fc_lvl_star","["+this.lvl_star.toString()+"]");window.localStorage.setItem("fc_bonus","["+this.bonus.toString()+"]");window.localStorage.setItem("fc_tut","1")};
ClassSave.prototype.Save=function(){window.localStorage.setItem("fc_lvl_move","["+this.lvl_move.toString()+"]");window.localStorage.setItem("fc_lvl_star","["+this.lvl_star.toString()+"]");window.localStorage.setItem("fc_bonus","["+this.bonus.toString()+"]");window.localStorage.setItem("fc_tut",this.tut.toString())};ClassSave.prototype.ShowTut=function(){this.tut=0;window.localStorage.setItem("fc_tut","0")};
ClassSave.prototype.AddBonus=function(a){this.bonus[a]++;window.localStorage.setItem("fc_bonus","["+this.bonus.toString()+"]")};ClassSave.prototype.DesBonus=function(a){this.bonus[a]--;window.localStorage.setItem("fc_bonus","["+this.bonus.toString()+"]")};
ClassSave.prototype.SetLvl=function(a,b,c){this.lvl_move[a]=b;this.lvl_star[a]=c;-1===this.lvl_star[a+1]&&(this.lvl_star[a+1]=0);window.localStorage.setItem("fc_lvl_move","["+this.lvl_move.toString()+"]");window.localStorage.setItem("fc_lvl_star","["+this.lvl_star.toString()+"]")};
ClassSave.prototype.Load=function(){null===window.localStorage.getItem("fc_lvl_star")?this.FirstSave():(this.lvl_move=JSON.parse(window.localStorage.getItem("fc_lvl_move")),this.lvl_star=JSON.parse(window.localStorage.getItem("fc_lvl_star")),this.bonus=JSON.parse(window.localStorage.getItem("fc_bonus")),this.tut=parseInt(window.localStorage.getItem("fc_tut")))};function ClassScore(){this.need_score=this.score=this.speeed_score=this.move=this.block=0;this.clear_block=!0;this.score_n=this.score_w=0;this.GetImg=new createjs.Container;this.progress_start=ss_data.clone();this.progress_start.gotoAndStop("progress_start");this.progress_start.x=125*devise_size;this.GetImg.addChild(this.progress_start);this.progress_center=ss_data.clone();this.progress_center.gotoAndStop("progress_center");this.progress_center.x=135*devise_size;this.GetImg.addChild(this.progress_center);
this.progress_end=ss_data.clone();this.progress_end.gotoAndStop("progress_end");this.progress_end.x=134*devise_size;this.GetImg.addChild(this.progress_end);this.text_moves_img=ss_data.clone();this.text_moves_img.gotoAndStop("white_text_moves");this.GetImg.addChild(this.text_moves_img);this.text_moves=new ClassText(2,"n");this.text_moves.GetImg.x=0;this.text_moves.GetImg.y=-2;this.text_moves.GetImg.scaleX=this.text_moves.GetImg.scaleY=0.6;this.GetImg.addChild(this.text_moves.GetImg);this.block_img=
ss_data.clone();this.block_img.gotoAndStop("slot2");this.block_img.x=85*devise_size;this.block_img.y=0;this.block_img.scaleX=this.block_img.scaleY=0.4;this.GetImg.addChild(this.block_img);this.block_text=new ClassText(2,"n");this.block_text.GetImg.x=101*devise_size;this.block_text.GetImg.y=-1*devise_size;this.block_text.GetImg.scaleX=this.block_text.GetImg.scaleY=0.6;this.GetImg.addChild(this.block_text.GetImg);this.text_score=new ClassText(6,"n");this.text_score.GetImg.x=310*devise_size;this.text_score.GetImg.y=
-4*devise_size;this.text_score.GetImg.scaleX=this.text_score.GetImg.scaleY=0.8;this.GetImg.addChild(this.text_score.GetImg);this.ef0=ss_data.clone();this.ef0.regX=38*devise_size;this.ef0.regY=38*devise_size;this.ef0.y=7*devise_size;this.ef0.on("animationend",function(a){a.target.stop();a.target.visible=!1});this.ef0.visible=!1;this.GetImg.addChild(this.ef0);this.ef0_is=!0}
ClassScore.prototype.Create=function(a){this.ef0.visible=!1;this.ef0_is=!0;this.need_score=config.levels[a].score;this.progress_start.visible=0!=this.need_score;this.progress_center.visible=0!=this.need_score;this.progress_end.visible=0!=this.need_score;this.block=config.levels[a].block;this.clear_block=0!=this.block;this.block_text.GetImg.visible=0!=this.block;this.block_img.visible=0!=this.block;this.move=config.levels[a].move;this.score_w=this.score_n=this.score=0;this.text_score.SetLeft("0");
this.block_text.SetRight(this.block.toString());this.text_moves.SetRight(this.move.toString());this.text_moves_img.x=0.6*this.text_moves.GetImg.width+3*devise_size};
ClassScore.prototype.Add=function(a){for(var b=0,c=1;c<a+1;c++)b+=c*config.score_fruit;this.speeed_score=b/30/this.need_score*98*devise_size;this.score+=b;this.score_n=Math.min(this.score,this.need_score)/this.need_score*98*devise_size<<0;this.Test();a=this.score.toString();3<a.length?this.text_score.SetLeft(a.substring(0,a.length-3)+","+a.substring(a.length-3,a.length)):this.text_score.SetLeft(this.score.toString());return b};
ClassScore.prototype.MoveDestroy=function(){this.move--;this.text_moves.SetRight(this.move.toString());this.text_moves_img.x=0.6*this.text_moves.GetImg.width+3*devise_size;0===this.move&&(this.score<this.need_score||0!==this.block)&&window_modal.game_over.Show()};ClassScore.prototype.DestroyBlock=function(){this.block--;this.block_text.SetRight(this.block.toString());this.Test()};
ClassScore.prototype.Test=function(){this.clear_block&&0!=this.need_score?this.score>=this.need_score&&0===this.block?window_modal.clear.Show():(this.score>=this.need_score&&this.ef0_is&&(this.ef0_is=!1,this.ef0.x=310*devise_size-0.8*this.text_score.GetImg.width/2,this.ef0.gotoAndPlay("lock"),this.ef0.visible=!0),0===this.block&&this.ef0_is&&(this.ef0_is=!1,this.ef0.x=110*devise_size,this.ef0.gotoAndPlay("lock"),this.ef0.visible=!0)):(this.clear_block||this.score>=this.need_score&&this.GoWin(1500),
0===this.need_score&&0===this.block&&window_modal.clear.Show())};
ClassScore.prototype.GoWin=function(a){var b=-1,c=-1;this.move>config.levels[window_global.location.num].move*config.levels[window_global.location.num].pr_2?(b=5*Math.random()<<0,c=5*Math.random()<<0,b===c&&c++):this.move>config.levels[window_global.location.num].move*config.levels[window_global.location.num].pr_1&&(b=3*Math.random()<<0,c=-1);0!=save.lvl_star[window_global.location.num]?3===save.lvl_star[window_global.location.num]?0==a?window_modal.game_win.Show(4,this.score,b,c):setTimeout(function(){window_modal.game_win.Show(4,
window_global.location.score.score,b,c)},a):2===save.lvl_star[window_global.location.num]?save.lvl_move[window_global.location.num]<this.move?(save.SetLvl(window_global.location.num,this.move,3),0==a?window_modal.game_win.Show(3,this.score,b,c):setTimeout(function(){window_modal.game_win.Show(3,window_global.location.score.score,b,c)},a)):0==a?window_modal.game_win.Show(2,this.score,b,c):setTimeout(function(){window_modal.game_win.Show(2,window_global.location.score.score,b,c)},a):this.move<=0.7*
config.levels[window_global.location.num].move?(save.SetLvl(window_global.location.num,this.move,1),0==a?window_modal.game_win.Show(1,this.score,b,c):setTimeout(function(){window_modal.game_win.Show(1,window_global.location.score.score,b,c)},a)):(save.SetLvl(window_global.location.num,this.move,2),0==a?window_modal.game_win.Show(2,this.score,b,c):setTimeout(function(){window_modal.game_win.Show(2,window_global.location.score.score,b,c)},a)):this.move<=0.7*config.levels[window_global.location.num].move?
(save.SetLvl(window_global.location.num,this.move,1),0==a?window_modal.game_win.Show(1,this.score,b,c):setTimeout(function(){window_modal.game_win.Show(1,window_global.location.score.score,b,c)},a)):(save.SetLvl(window_global.location.num,this.move,2),0==a?window_modal.game_win.Show(2,this.score,b,c):setTimeout(function(){window_modal.game_win.Show(2,window_global.location.score.score,b,c)},a))};
ClassScore.prototype.Upd=function(){this.score_w<this.score_n&&(this.score_w+=this.speeed_score);this.progress_center.scaleX=this.score_w;this.progress_end.x=134*devise_size+this.score_w};function ClassText(a,b){this.GetImg=new createjs.Container;this.style=b;this.add_x="y"===b?17*devise_size:"b"===b?23*devise_size:"s"===b?10*devise_size:16*devise_size;this.point=[];for(var c=0;c<a;c++)this.point.push(ss_font.clone()),this.point[c].x=c*this.add_x,this.GetImg.addChild(this.point[c])}
ClassText.prototype.SetLeft=function(a){for(var b=0,c=0;c<this.point.length;c++)c<a.length?(this.point[c].x=b,b=","===a[c]?b+this.add_x/2:b+this.add_x,this.point[c].gotoAndStop(this.style+a[c]),this.point[c].visible=!0):this.point[c].visible=!1;this.GetImg.width=b;this.GetImg.regX=b};
ClassText.prototype.SetRight=function(a){for(var b=0,c=0;c<this.point.length;c++)c<a.length?(this.point[c].x=b,b=","===a[c]?b+this.add_x/2:b+this.add_x,this.point[c].gotoAndStop(this.style+a[c]),this.point[c].visible=!0):this.point[c].visible=!1;this.GetImg.width=b;this.GetImg.regX=0};
ClassText.prototype.SetCenter=function(a){for(var b=0,c=0;c<this.point.length;c++)c<a.length?(this.point[c].x=b,b=","===a[c]?b+this.add_x/2:b+this.add_x,this.point[c].gotoAndStop(this.style+a[c]),this.point[c].visible=!0):this.point[c].visible=!1;this.GetImg.width=b;this.GetImg.regX=b/2};function ClassTutorial(){this.GetImg=new createjs.Container;this.n=0;var a=new createjs.Shape;a.graphics.beginLinearGradientFill(["#00e3ff","#0289d3"],[0,1],0,0,0,480*devise_size).drawRect(0,0,320*devise_size,480*devise_size);this.GetImg.addChild(a);this.btn=new createjs.Container;this.btn.x=5*devise_size;this.btn.y=370*devise_size;this.btn.on("mousedown",function(){window_global.tutorial.n--;if(-1===window_global.tutorial.n)"map"==window_old?ToMenu("tutorial","map"):ToMenu("tutorial","options");
else{for(var a=0;4>a;a++)window_global.tutorial.candy[a].visible=!1;window_global.tutorial.candy[window_global.tutorial.n].visible=!0}});a=ss_data.clone();a.gotoAndStop("btn");this.btn.addChild(a);a=ss_data.clone();a.gotoAndStop("icon_left");this.btn.addChild(a);this.GetImg.addChild(this.btn);this.btn=new createjs.Container;this.btn.x=264*devise_size;this.btn.y=370*devise_size;this.btn.on("mousedown",function(){window_global.tutorial.n++;if(4===window_global.tutorial.n)"map"==window_old?(save.ShowTut(),
ToMenu("tutorial","location"),window_global.location.Create(0)):ToMenu("tutorial","options");else{for(var a=0;4>a;a++)window_global.tutorial.candy[a].visible=!1;window_global.tutorial.candy[window_global.tutorial.n].visible=!0}});a=ss_data.clone();a.gotoAndStop("btn");this.btn.addChild(a);a=ss_data.clone();a.gotoAndStop("icon_right");this.btn.addChild(a);this.GetImg.addChild(this.btn);this.candy=[ss_tut.clone(),ss_tut.clone(),ss_tut.clone(),ss_tut.clone()];this.candy[0].gotoAndStop("tut0");this.candy[1].gotoAndStop("tut1");
this.candy[2].gotoAndStop("tut2");this.candy[3].gotoAndStop("tut3");this.candy[0].y=54*devise_size;this.candy[1].y=54*devise_size;this.candy[2].y=54*devise_size;this.candy[3].y=54*devise_size;this.candy[0].x=4*devise_size;this.candy[1].x=42*devise_size;this.candy[2].x=19*devise_size;this.candy[3].x=24*devise_size;this.GetImg.addChild(this.candy[0]);this.GetImg.addChild(this.candy[1]);this.GetImg.addChild(this.candy[2]);this.GetImg.addChild(this.candy[3]);this.Hide()}ClassTutorial.prototype.Upd=function(){};
ClassTutorial.prototype.Show=function(){this.n=0;this.candy[0].visible=!0;this.candy[1].visible=!1;this.candy[2].visible=!1;this.candy[3].visible=!1;this.GetImg.visible=!0};ClassTutorial.prototype.Hide=function(){this.GetImg.visible=!1};var data,ss_data,data_font,ss_font,data_tut,ss_tut;
function CreateData2(){data={images:[load.queue.getResult("gr")],frames:[[2,2,438,664,0,0,-5],[792,2,640,176,0,0,0],[2006,1112,40,42,0,-55,-55],[1690,734,50,58,0,-48,-48],[1678,1068,60,68,0,-43,-43],[1664,1226,74,86,0,-37,-31],[840,1526,104,92,0,-23,-31],[1740,888,122,104,0,-15,-25],[1858,1230,142,116,0,-4,-17],[1458,1336,138,128,0,-6,-11],[1740,1260,116,138,0,-16,-6],[542,924,122,148,0,-13,-2],[1742,630,124,150,0,-13,0],[1850,1478,130,126,0,-10,-12],[666,1038,46,70,0,-62,-39],[292,1802,18,10,0,-89,
-93],[992,1952,76,88,0,-137,-130],[1766,208,104,118,0,-123,-118],[1868,766,160,156,0,-97,-96],[786,482,180,184,0,-88,-85],[1194,1282,200,214,0,-78,-71],[1208,426,222,240,0,-67,-57],[724,782,242,264,0,-58,-45],[528,1498,262,284,0,-48,-35],[272,1498,254,302,0,-40,-26],[2,1498,268,316,0,-32,-17],[1208,180,222,244,0,-80,-35],[1872,236,174,160,0,-80,-97],[442,924,98,154,0,-148,-96],[637,1784,36,22,0,-209,-216],[1396,1348,60,62,0,-16,-15],[896,1868,92,92,0,0,0],[792,1886,102,102,0,0,0],[600,1074,64,62,
0,0,-1],[1690,904,48,48,0,0,0],[1178,1850,66,78,0,-1,0],[1458,1466,132,146,0,-1,0],[1142,1650,66,76,0,-2,-2],[442,2,156,156,0,0,0],[968,482,66,68,0,-1,-9],[1134,474,68,76,0,0,-1],[1138,322,68,76,0,0,-2],[792,1690,66,74,0,-1,-3],[1076,1500,78,78,0,0,0],[1690,854,48,48,0,-29,-27],[1702,388,44,58,0,-30,-26],[2006,1156,26,76,0,-38,-14],[1700,510,40,60,0,-27,-23],[1680,1010,46,56,0,-29,-24],[666,980,52,56,0,-23,-24],[660,490,52,58,0,-25,-24],[1702,448,40,60,0,-37,-23],[1144,260,62,60,0,-20,-22],[946,1580,
68,56,0,-13,-20],[1186,1498,90,80,0,0,-6],[962,1462,112,116,0,0,0],[1724,1572,112,116,0,0,0],[2,1088,596,408,0,0,0],[792,386,340,94,0,-3,-31],[675,1784,28,22,0,-61,-64],[792,1494,46,40,0,-52,-56],[1396,1412,60,56,0,-45,-50],[1134,400,72,72,0,-39,-42],[1070,1952,84,86,0,-33,-35],[960,1650,94,98,0,-28,-29],[682,550,102,108,0,-24,-24],[600,1138,110,120,0,-20,-17],[844,1258,120,128,0,-14,-12],[844,1388,116,136,0,-14,-8],[1734,1440,114,130,0,-18,-14],[1740,994,120,124,0,-15,-14],[1838,1606,128,128,0,-11,
-11],[1598,1386,134,134,0,-8,-8],[442,782,140,140,0,-5,-5],[1690,794,48,58,0,0,0],[1432,208,332,56,0,-2,-1],[579,1784,56,22,0,0,0],[576,1784,1,26,0,0,-2],[558,1784,16,26,0,0,-2],[1204,1166,234,34,0,-1,0],[1396,1282,60,64,0,-12,-18],[988,1766,88,92,0,-2,0],[1968,1686,78,78,0,0,0],[1968,1606,78,78,0,0,0],[1098,482,30,34,0,-50,-48],[1700,572,40,44,0,-45,-44],[598,490,60,60,0,-36,-34],[1664,1314,68,70,0,-32,-31],[1156,1944,76,80,0,-28,-26],[1078,1766,84,90,0,-24,-21],[894,1766,92,100,0,-20,-16],[860,
1650,98,106,0,-18,-13],[860,1142,96,114,0,-14,-8],[792,1766,100,118,0,-12,-6],[1056,1650,84,92,0,-29,-12],[792,1620,66,62,0,-29,-34],[714,1048,38,58,0,-54,-35],[312,1802,14,10,0,-77,-79],[528,1784,28,28,0,-141,-141],[666,922,56,56,0,-127,-127],[1164,1766,82,82,0,-114,-114],[838,668,110,110,0,-100,-100],[584,782,138,138,0,-86,-86],[712,1110,146,146,0,-82,-82],[442,364,154,154,0,-78,-78],[1872,398,162,162,0,-74,-74],[1874,2,170,172,0,-70,-68],[1864,924,180,186,0,-64,-60],[598,210,192,198,0,-56,-54],
[600,2,188,206,0,-49,-51],[1462,1118,200,216,0,-45,-46],[1206,896,210,220,0,-42,-45],[1208,668,218,226,0,-39,-42],[2,1816,224,230,0,-37,-40],[560,1812,230,234,0,-34,-39],[968,1022,234,236,0,-33,-38],[968,552,238,240,0,-32,-36],[600,1260,242,232,0,-30,-36],[968,794,236,226,0,-37,-44],[442,552,238,228,0,-37,-43],[966,1260,226,200,0,-43,-72],[1870,562,176,202,0,-95,-71],[442,160,154,202,0,-118,-72],[682,668,154,112,0,-119,-150],[1680,954,58,54,0,-16,-19],[990,1860,92,90,0,0,0],[1116,1580,98,42,0,-6,
-88],[1016,1580,98,42,0,-6,-88],[892,1990,98,42,0,-6,-88],[792,1990,98,42,0,-6,-88],[1418,934,260,102,0,-44,0],[1428,830,260,102,0,-44,0],[1428,726,260,102,0,-44,0],[1432,622,260,102,0,-44,0],[1700,618,40,42,0,-55,-55],[714,490,50,58,0,-48,-48],[1036,482,60,68,0,-43,-43],[1664,1138,74,86,0,-37,-31],[860,1048,104,92,0,-23,-31],[1742,782,122,104,0,-15,-25],[1862,1112,142,116,0,-4,-17],[1858,1348,138,128,0,-6,-11],[1740,1120,116,138,0,-16,-6],[1748,328,122,148,0,-13,-2],[1744,478,124,150,0,-13,0],[1592,
1522,130,126,0,-10,-12],[1694,662,46,70,0,-62,-39],[272,1802,18,10,0,-89,-93],[754,1048,76,56,0,-10,-22],[1084,1858,92,84,0,0,-4],[792,260,350,48,0,0,-3],[792,180,414,78,0,0,0],[1432,388,268,116,0,0,0],[228,1816,330,228,0,0,0],[1204,1202,232,78,0,0,0],[1418,1038,258,78,0,0,0],[1204,1118,256,46,0,0,0],[1432,506,266,114,0,0,0],[1432,266,324,40,0,0,0],[1076,1462,108,36,0,0,0],[600,410,184,78,0,0,0],[1874,176,168,58,0,0,0],[1432,308,314,78,0,0,0],[1734,1400,116,38,0,-3,0],[792,310,344,74,0,0,0],[2,668,
438,418,0,-2,0],[1434,2,438,204,0,-1,0]],animations:{"FruitChamp-about":[0],bg_top:[1],blast:[2,15],bomb:[16,29],bomb_off:[30],bomb_on:[31],btn:[32],btn_bonus:[33],btn_pause:[34],fruit_blue:[35],fruit_gameover:[36],fruit_green:[37],fruit_levelcomplete:[38],fruit_orange:[39],fruit_red:[40],fruit_violet:[41],fruit_yellow:[42],glow:[43],icon_back:[44],icon_help:[45],icon_i:[46],icon_left:[47],icon_menu:[48],icon_music:[49],icon_reset:[50],icon_right:[51],icon_sound:[52],key_off:[53],key_on:[54],level_off:[55],
level_on:[56],light:[57],line_stars:[58],lock:[59,73],lock_k:[74],logo:[75],marker_on:[76],progress_center:[77],progress_end:[78],progress_start:[79],shovel_off:[80],shovel_on:[81],slot1:[82],slot2:[83],small:[84,97],star:[98,123],star_off:[124],star_on:[125],stars_0:[126],stars_1:[127],stars_2:[128],stars_3:[129],starsa_0:[130],starsa_1:[131],starsa_2:[132],starsa_3:[133],water:[134,147],watering_off:[148],watering_on:[149],white_text_clearblocks:[150],white_text_excellent:[151],white_text_gamecomplete:[152],
white_text_gameover:[153],white_text_good:[154],white_text_great:[155],white_text_levelclear:[156],white_text_levelcomplete:[157],white_text_levelrequirement:[158],white_text_moves:[159],white_text_nice:[160],white_text_pause:[161],white_text_perfect:[162],white_text_points:[163],white_text_settings:[164],wind_pause:[165],wind_requirements:[166]}};ss_data=new createjs.Sprite(new createjs.SpriteSheet(data));ss_data.snapToPixel=!0;data_font={images:[load.queue.getResult("fnt")],frames:[[62,310,58,66,
0,0,-9],[356,172,24,26,0,6,-52],[2,314,58,74,0,0,-4],[118,158,48,76,0,-3,-2],[2,236,58,76,0,0,-2],[2,158,58,76,0,0,-2],[2,80,58,76,0,0,-2],[62,234,54,74,0,-2,-4],[62,80,56,76,0,0,-2],[62,158,54,74,0,-1,-4],[2,2,58,76,0,0,-2],[62,2,56,76,0,0,-2],[262,210,46,56,0,0,-4],[264,116,42,56,0,-4,-4],[216,118,46,56,0,0,-4],[216,60,46,56,0,0,-4],[262,2,46,56,0,0,-4],[310,2,46,54,0,0,-6],[122,296,46,58,0,0,-2],[168,60,46,56,0,0,-4],[168,2,46,56,0,0,-4],[218,326,46,56,0,0,-4],[308,116,46,50,0,0,-9],[168,210,20,
22,0,-8,-38],[218,268,46,56,0,0,-4],[216,2,42,56,0,-4,-4],[214,210,46,56,0,0,-4],[168,152,46,56,0,0,-4],[120,60,46,56,0,0,-4],[264,60,46,54,0,0,-6],[118,236,46,58,0,0,-2],[120,2,46,56,0,0,-4],[170,294,46,56,0,0,-4],[166,236,46,56,0,0,-4],[356,142,30,28,0,0,-6],[356,108,30,32,0,0,-2],[280,174,30,32,0,0,-2],[248,176,30,32,0,0,-2],[216,176,30,32,0,0,-2],[184,118,30,32,0,0,-2],[152,118,30,32,0,0,-2],[120,118,30,32,0,0,-2],[186,352,30,32,0,0,-2],[122,356,30,34,0,0,0],[154,356,30,32,0,0,-2],[346,318,42,
42,0,-1,-3],[358,2,32,30,0,8,-20],[310,218,42,48,0,-1,0],[356,58,34,48,0,-4,0],[312,168,42,48,0,0,0],[312,58,42,48,0,0,0],[266,268,40,48,0,-2,0],[348,268,38,46,0,-3,-1],[308,268,38,48,0,-4,0],[306,318,38,48,0,-4,0],[266,318,38,48,0,-3,0],[354,218,38,48,0,-3,0]],animations:{"b+":[0],"b,":[1],b0:[2],b1:[3],b2:[4],b3:[5],b4:[6],b5:[7],b6:[8],b7:[9],b8:[10],b9:[11],m0:[12],m1:[13],m2:[14],m3:[15],m4:[16],m5:[17],m6:[18],m7:[19],m8:[20],m9:[21],"n+":[22],"n,":[23],n0:[24],n1:[25],n2:[26],n3:[27],n4:[28],
n5:[29],n6:[30],n7:[31],n8:[32],n9:[33],"s+":[34],s0:[35],s1:[36],s2:[37],s3:[38],s4:[39],s5:[40],s6:[41],s7:[42],s8:[43],s9:[44],"y+":[45],"y,":[46],y0:[47],y1:[48],y2:[49],y3:[50],y4:[51],y5:[52],y6:[53],y7:[54],y8:[55],y9:[56]}};ss_font=new createjs.Sprite(new createjs.SpriteSheet(data_font));ss_font.snapToPixel=!0;data_tut={images:[load.queue.getResult("tut")],frames:[[2,2,578,642,0,-41,-3],[550,646,462,482,0,-6,-1],[2,646,546,630,0,-10,0],[2,1278,540,572,0,-2,-1]],animations:{tut0:[0],tut1:[1],
tut2:[2],tut3:[3]}};ss_tut=new createjs.Sprite(new createjs.SpriteSheet(data_tut));ss_tut.snapToPixel=!0}
function CreateData1(){data={images:[load.queue.getResult("gr")],frames:[[2,2,218,333,0,-1,-2],[522,2,320,89,0,0,0],[674,909,19,21,0,-28,-28],[644,848,25,29,0,-24,-24],[354,882,31,35,0,-21,-21],[111,666,37,43,0,-19,-16],[57,971,53,47,0,-11,-15],[161,749,63,53,0,-6,-11],[639,688,71,59,0,-2,-8],[449,849,69,65,0,-3,-5],[574,950,59,69,0,-7,-3],[91,770,61,75,0,-7,0],[958,449,63,75,0,-6,0],[328,961,65,61,0,-5,-7],[2,618,23,37,0,-31,-18],[1012,128,9,7,0,-45,-45],[246,967,39,45,0,-68,-64],[388,858,53,59,
0,-61,-59],[739,532,81,79,0,-48,-47],[742,437,91,93,0,-43,-42],[227,561,101,109,0,-38,-34],[2,848,111,121,0,-34,-28],[330,531,121,133,0,-29,-22],[520,357,131,143,0,-24,-17],[519,502,127,151,0,-20,-13],[335,208,135,159,0,-15,-8],[222,208,111,123,0,-40,-17],[653,358,87,81,0,-40,-48],[232,849,49,77,0,-74,-48],[2,803,19,11,0,-104,-108],[581,849,30,32,0,-8,-7],[472,312,46,46,0,0,0],[971,335,51,51,0,0,0],[354,848,32,32,0,0,0],[2,822,24,24,0,0,0],[497,916,34,39,0,0,0],[154,548,67,73,0,0,0],[461,916,34,39,
0,0,0],[739,613,78,79,0,0,0],[533,916,34,35,0,0,-4],[425,919,34,39,0,0,0],[389,919,34,39,0,0,0],[271,928,34,37,0,0,-2],[348,920,39,39,0,0,0],[516,822,25,25,0,-14,-13],[2,657,23,29,0,-14,-13],[1009,159,13,39,0,-19,-6],[2,770,21,31,0,-13,-11],[618,879,25,29,0,-13,-11],[198,697,27,29,0,-11,-11],[198,666,27,29,0,-12,-12],[1001,302,21,31,0,-18,-11],[605,811,31,31,0,-10,-10],[645,879,34,28,0,-6,-10],[154,804,46,40,0,0,-3],[330,787,56,59,0,0,0],[966,388,56,59,0,0,0],[222,2,298,204,0,0,0],[844,30,172,48,
0,0,-15],[721,627,15,11,0,-29,-32],[2,688,23,21,0,-26,-27],[601,916,31,29,0,-21,-24],[232,928,37,37,0,-19,-20],[27,666,43,43,0,-15,-17],[472,261,47,49,0,-14,-14],[466,467,51,55,0,-12,-11],[462,524,55,59,0,-10,-9],[520,849,59,65,0,-8,-5],[515,957,57,63,0,-7,-8],[456,960,57,61,0,-9,-8],[395,960,59,61,0,-8,-8],[958,526,63,63,0,-6,-6],[449,717,67,67,0,-4,-4],[283,849,69,69,0,-3,-3],[2,548,24,29,0,0,0],[843,119,167,29,0,0,0],[287,1008,28,11,0,0,0],[1018,30,1,13,0,0,-1],[1012,144,8,13,0,0,-1],[817,808,
118,17,0,0,0],[569,916,30,32,0,-6,-9],[200,968,44,46,0,-1,0],[307,920,39,39,0,0,0],[287,967,39,39,0,0,0],[1005,266,15,17,0,-25,-24],[739,694,21,23,0,-22,-21],[297,818,31,29,0,-17,-18],[161,710,35,37,0,-15,-14],[186,623,39,41,0,-13,-12],[157,968,41,47,0,-13,-9],[472,208,47,51,0,-9,-7],[110,711,49,55,0,-9,-5],[2,711,49,57,0,-6,-4],[466,406,51,59,0,-5,-3],[112,971,43,47,0,-14,-5],[581,883,35,31,0,-13,-17],[202,804,19,31,0,-27,-16],[1012,137,9,5,0,-37,-40],[1005,285,15,15,0,-70,-70],[613,848,29,29,0,
-63,-63],[143,623,41,41,0,-57,-57],[53,711,55,55,0,-50,-50],[639,749,69,69,0,-43,-43],[940,773,73,73,0,-41,-41],[940,694,77,77,0,-39,-39],[653,441,81,81,0,-37,-37],[657,238,85,87,0,-35,-33],[742,342,91,93,0,-31,-30],[744,93,97,99,0,-27,-27],[744,194,95,105,0,-24,-24],[227,672,101,107,0,-22,-24],[223,448,105,111,0,-21,-22],[223,333,109,113,0,-20,-21],[28,548,113,115,0,-18,-20],[115,849,115,117,0,-17,-19],[330,666,117,119,0,-17,-18],[819,685,119,121,0,-16,-17],[835,449,121,117,0,-15,-17],[518,655,119,
113,0,-18,-22],[822,568,121,115,0,-17,-21],[712,719,103,101,0,-32,-35],[648,524,89,101,0,-47,-36],[945,591,77,101,0,-59,-36],[198,728,25,17,0,-58,-100],[671,848,30,28,0,-7,-9],[472,360,46,44,0,0,-1],[635,940,50,21,0,-2,-44],[763,822,50,21,0,-2,-44],[711,822,50,21,0,-2,-44],[638,820,50,21,0,-2,-44],[839,329,130,52,0,-22,0],[330,477,130,52,0,-22,0],[334,423,130,52,0,-22,0],[334,369,130,52,0,-22,0],[690,820,19,21,0,-28,-28],[712,688,25,29,0,-24,-24],[297,781,31,35,0,-21,-21],[72,666,37,43,0,-19,-16],
[2,971,53,47,0,-11,-15],[453,662,63,53,0,-6,-11],[648,627,71,59,0,-2,-8],[226,781,69,65,0,-3,-5],[388,787,59,69,0,-7,-3],[28,770,61,75,0,-7,0],[453,585,63,75,0,-6,0],[449,786,65,61,0,-5,-7],[2,579,23,37,0,-31,-18],[1012,119,9,7,0,-45,-45],[634,910,38,28,0,-5,-11],[150,666,46,42,0,0,-2],[844,2,176,26,0,0,0],[522,197,208,39,0,0,0],[521,238,134,58,0,0,0],[843,150,164,114,0,0,0],[518,770,116,39,0,0,0],[835,383,129,39,0,0,0],[835,424,128,23,0,0,0],[521,298,133,57,0,0,0],[841,266,162,20,0,0,0],[762,694,
54,18,0,0,0],[744,301,93,39,0,0,0],[656,327,84,29,0,0,0],[841,288,158,39,0,0,0],[543,827,60,20,0,0,0],[844,80,172,37,0,0,0],[2,337,219,209,0,-1,0],[522,93,220,102,0,0,0]],animations:{"FruitChamp-about":[0],bg_top:[1],blast:[2,15],bomb:[16,29],bomb_off:[30],bomb_on:[31],btn:[32],btn_bonus:[33],btn_pause:[34],fruit_blue:[35],fruit_gameover:[36],fruit_green:[37],fruit_levelcomplete:[38],fruit_orange:[39],fruit_red:[40],fruit_violet:[41],fruit_yellow:[42],glow:[43],icon_back:[44],icon_help:[45],icon_i:[46],
icon_left:[47],icon_menu:[48],icon_music:[49],icon_reset:[50],icon_right:[51],icon_sound:[52],key_off:[53],key_on:[54],level_off:[55],level_on:[56],light:[57],line_stars:[58],lock:[59,73],lock_k:[74],logo:[75],marker_on:[76],progress_center:[77],progress_end:[78],progress_start:[79],shovel_off:[80],shovel_on:[81],slot1:[82],slot2:[83],small:[84,97],star:[98,123],star_off:[124],star_on:[125],stars_0:[126],stars_1:[127],stars_2:[128],stars_3:[129],starsa_0:[130],starsa_1:[131],starsa_2:[132],starsa_3:[133],
water:[134,147],watering_off:[148],watering_on:[149],white_text_clearblocks:[150],white_text_excellent:[151],white_text_gamecomplete:[152],white_text_gameover:[153],white_text_good:[154],white_text_great:[155],white_text_levelclear:[156],white_text_levelcomplete:[157],white_text_levelrequirement:[158],white_text_moves:[159],white_text_nice:[160],white_text_pause:[161],white_text_perfect:[162],white_text_points:[163],white_text_settings:[164],wind_pause:[165],wind_requirements:[166]}};ss_data=new createjs.Sprite(new createjs.SpriteSheet(data));
ss_data.snapToPixel=!0;data_font={images:[load.queue.getResult("fnt")],frames:[[33,160,29,33,0,0,-4],[190,55,12,13,0,3,-26],[33,43,29,37,0,0,-2],[62,82,23,39,0,-2,0],[33,2,29,39,0,0,0],[2,166,29,39,0,0,0],[2,125,29,39,0,0,0],[33,121,27,37,0,-1,-2],[2,84,29,39,0,0,0],[33,82,27,37,0,0,-2],[2,43,29,39,0,0,0],[2,2,29,39,0,0,0],[137,81,23,28,0,0,-2],[140,169,21,28,0,-2,-2],[115,171,23,28,0,0,-2],[114,141,23,28,0,0,-2],[112,111,23,28,0,0,-2],[139,32,23,28,0,0,-2],[64,155,23,30,0,0,0],[139,2,23,28,0,0,-2],
[112,81,23,28,0,0,-2],[114,32,23,28,0,0,-2],[137,111,23,26,0,0,-3],[87,141,9,12,0,-5,-18],[114,2,23,28,0,0,-2],[139,139,21,28,0,-2,-2],[89,155,23,28,0,0,-2],[87,111,23,28,0,0,-2],[87,81,23,28,0,0,-2],[89,32,23,28,0,0,-2],[62,123,23,30,0,0,0],[89,2,23,28,0,0,-2],[64,32,23,28,0,0,-2],[64,2,23,28,0,0,-2],[188,38,15,15,0,0,-2],[188,2,15,17,0,0,0],[149,62,15,17,0,0,0],[132,62,15,17,0,0,0],[115,62,15,17,0,0,0],[98,185,15,17,0,0,0],[98,62,15,17,0,0,0],[81,62,15,17,0,0,0],[64,62,15,17,0,0,0],[81,187,15,17,
0,0,0],[64,187,15,17,0,0,0],[166,56,22,23,0,0,0],[188,21,16,15,0,4,-10],[162,81,22,25,0,0,0],[186,81,18,25,0,-1,0],[164,29,22,25,0,0,0],[164,2,22,25,0,0,0],[185,162,20,25,0,-1,0],[184,135,20,25,0,-1,0],[184,108,20,25,0,-1,0],[163,162,20,25,0,-1,0],[162,135,20,25,0,-1,0],[162,108,20,25,0,-1,0]],animations:{"b+":[0],"b,":[1],b0:[2],b1:[3],b2:[4],b3:[5],b4:[6],b5:[7],b6:[8],b7:[9],b8:[10],b9:[11],m0:[12],m1:[13],m2:[14],m3:[15],m4:[16],m5:[17],m6:[18],m7:[19],m8:[20],m9:[21],"n+":[22],"n,":[23],n0:[24],
n1:[25],n2:[26],n3:[27],n4:[28],n5:[29],n6:[30],n7:[31],n8:[32],n9:[33],"s+":[34],s0:[35],s1:[36],s2:[37],s3:[38],s4:[39],s5:[40],s6:[41],s7:[42],s8:[43],s9:[44],"y+":[45],"y,":[46],y0:[47],y1:[48],y2:[49],y3:[50],y4:[51],y5:[52],y6:[53],y7:[54],y8:[55],y9:[56]}};ss_font=new createjs.Sprite(new createjs.SpriteSheet(data_font));ss_font.snapToPixel=!0;data_tut={images:[load.queue.getResult("tut")],frames:[[2,2,291,322,0,-19,-1],[278,326,231,241,0,-3,-1],[2,326,274,316,0,-4,0],[2,644,271,287,0,0,0]],
animations:{tut0:[0],tut1:[1],tut2:[2],tut3:[3]}};ss_tut=new createjs.Sprite(new createjs.SpriteSheet(data_tut));ss_tut.snapToPixel=!0};var addToHomeConfig={autostart:!1};(function(a,b,c){var d=a.getElementsByTagName(b)[0];a.getElementById(c)||(a=a.createElement(b),a.id=c,a.src="//connect.facebook.net/en_US/all.js",d.parentNode.insertBefore(a,d))})(document,"script","facebook-jssdk");var game_area,canvas,stage,l2p,map,speed,devise_size=1,save,window_global,window_modal,window_g_s,window_m_s,window_vision,window_old;
function init(){game_area=document.getElementById("gameArea");canvas=document.getElementById("myCanvas");700>Math.max(window.innerWidth,window.innerHeight)*window.devicePixelRatio?(canvas.height=480,canvas.width=320,devise_size=1):(canvas.height=960,canvas.width=640,devise_size=2);speed=13*devise_size;stage=new createjs.Stage(canvas);stage.enableMouseOver(15);stage.mouseMoveOutside=!0;createjs.Touch.enable(stage);document.bgColor="#fff";game_area.style.backgroundColor="#000";l2p=null;if(void 0!==
window.orientation){l2p=document.createElement("img");l2p.id="imgl2p";l2p.src="assets/l2p.jpg";l2p.unselectable="on";document.body.appendChild(l2p);var a=document.createElement("style");a.appendChild(document.createTextNode("@media all and (orientation:landscape) { #imgl2p{ display: block; } #gameArea{ display: none; }"));document.head.appendChild(a)}ResizeGame();window.addEventListener("resize",ResizeGame,!1);StartLoad();stage.addChild(load.GetImg);setInterval(Draw,1E3/30)}
function StartGame(){stage.removeAllChildren();save=new ClassSave;save.Load();window_g_s=new createjs.Container;window_vision="main_menu";window_global={main_menu:new ClassMainMenu,map:new ClassMap,location:new ClassLocation,about:new ClassAbout,options:new ClassOptions,tutorial:new ClassTutorial};window_g_s.addChild(window_global.main_menu.GetImg);window_g_s.addChild(window_global.map.GetImg);window_g_s.addChild(window_global.location.GetImg);window_g_s.addChild(window_global.about.GetImg);window_g_s.addChild(window_global.options.GetImg);
window_g_s.addChild(window_global.tutorial.GetImg);stage.addChild(window_g_s);window_m_s=new createjs.Container;window_modal={job:new ClassJob,game_over:new ClassGameOver,game_win:new ClassGameWin,pause:new ClassPause,clear:new ClassLevelClear};window_m_s.addChild(window_modal.job.GetImg);window_m_s.addChild(window_modal.game_over.GetImg);window_m_s.addChild(window_modal.game_win.GetImg);window_m_s.addChild(window_modal.pause.GetImg);window_m_s.addChild(window_modal.clear.GetImg);stage.addChild(window_m_s);
window_global.main_menu.Show()}function ToMenu(a,b){window_global[a].Hide();window_global[b].Show();window_vision=b;window_old=a}
function Draw(){void 0!=window_modal&&(window_modal.game_win.GetImg.visible&&window_modal.game_win.Upd(),window_modal.game_over.GetImg.visible&&window_modal.game_over.Upd(),window_modal.pause.GetImg.visible&&window_modal.pause.Upd(),window_modal.clear.GetImg.visible&&window_modal.clear.Upd(),window_modal.job.GetImg.visible&&window_modal.job.Upd());void 0!=window_vision&&window_g_s.mouseEnabled&&window_global[window_vision].Upd();stage.update()}
function ResizeGame(){document.body.style.height=(2*window.innerHeight<<0)+"px";window.scrollTo(0,1);var a=window.innerWidth,b=window.innerHeight;a/b>=640/764?(a=640/764*b,b=b/764*960):b=a/(640/960);if(null!=l2p){var c=Math.min(window.innerHeight,Math.min(window.innerWidth,250));l2p.style.height=c+"px";l2p.style.width=c+"px";l2p.style.marginLeft=c/-2+"px";l2p.style.marginTop=c/-2+"px"}game_area.style.width=(a<<0)+"px";game_area.style.height=(b<<0)+"px";game_area.style.marginLeft=(-a/2<<0)+"px";game_area.style.marginTop=
(-b/2<<0)+"px"};
